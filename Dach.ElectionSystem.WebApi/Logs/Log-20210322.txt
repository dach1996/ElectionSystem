[22:00:17][FTL][Microsoft.AspNetCore.Hosting.Diagnostics]:Application startup exception
System.InvalidOperationException: Cannot resolve 'Dach.ElectionSystem.Services.TokenJWT.ITokenService' from root provider because it requires scoped service 'Dach.ElectionSystem.Repository.DBContext.WebApiDbContext'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateResolution(Type serviceType, IServiceScope scope, IServiceScope rootScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnResolve(Type serviceType, IServiceScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass5_0.<UseMiddleware>b__0(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
[22:01:43][FTL][Microsoft.AspNetCore.Hosting.Diagnostics]:Application startup exception
System.InvalidOperationException: Cannot resolve scoped service 'Dach.ElectionSystem.Services.TokenJWT.ITokenService' from root provider.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateResolution(Type serviceType, IServiceScope scope, IServiceScope rootScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnResolve(Type serviceType, IServiceScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass5_0.<UseMiddleware>b__0(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
[22:04:09][INF][Microsoft.Hosting.Lifetime]:Application started. Press Ctrl+C to shut down.
[22:04:09][INF][Microsoft.Hosting.Lifetime]:Hosting environment: Development
[22:04:09][INF][Microsoft.Hosting.Lifetime]:Content root path: C:\Users\wwwda\Source\Repos\ElectionSystem\Dach.ElectionSystem.WebApi
[22:04:09][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/2 GET https://localhost:44317/swagger - -
[22:04:09][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/2 GET https://localhost:44317/swagger - - - 301 - - 154.6481ms
[22:04:09][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/2 GET https://localhost:44317/swagger/index.html - -
[22:04:09][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/2 GET https://localhost:44317/swagger/index.html - - - 200 - text/html;charset=utf-8 92.7771ms
[22:04:09][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/2 GET https://localhost:44317/swagger/swagger-ui.css - -
[22:04:09][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/2 GET https://localhost:44317/swagger/swagger-ui-bundle.js - -
[22:04:09][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/2 GET https://localhost:44317/swagger/swagger-ui-standalone-preset.js - -
[22:04:09][INF][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware]:Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
[22:04:09][INF][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware]:Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
[22:04:09][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/2 GET https://localhost:44317/swagger/swagger-ui.css - - - 200 142933 text/css 71.4889ms
[22:04:09][INF][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware]:Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
[22:04:09][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/2 GET https://localhost:44317/swagger/swagger-ui-standalone-preset.js - - - 200 311804 application/javascript 72.5665ms
[22:04:09][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/2 GET https://localhost:44317/swagger/swagger-ui-bundle.js - - - 200 986342 application/javascript 88.1608ms
[22:04:10][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/2 GET https://localhost:44317/swagger/v1/swagger.json - -
[22:04:10][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/2 GET https://localhost:44317/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 130.8663ms
[22:04:29][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST https://localhost:44317/api/Auth application/json 80
[22:04:29][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Properties.AuthController.Auth (Dach.ElectionSystem.WebApi)'
[22:04:29][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "Auth", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Auth(Dach.ElectionSystem.Models.Auth.LoginRequest) on controller Dach.ElectionSystem.WebApi.Properties.AuthController (Dach.ElectionSystem.WebApi).
[22:04:30][INF][Microsoft.EntityFrameworkCore.Infrastructure]:Entity Framework Core 5.0.4 initialized 'WebApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: DetailedErrorsEnabled 
[22:04:30][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (58ms) [Parameters=[@__username_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ID_USUARIO], [u].[FECHA_NACIMIENTO_USUARIO], [u].[CEDULA_USUARIO], [u].[CORREO_USUARIO], [u].[APELLIDO_USUARIO], [u].[NOMBRE_USUARIO], [u].[ESTADO_USUARIO], [u].[PASSWORD_USUARIO], [u].[ROL_USUARIO], [u].[NOMBRE_ROL_USUARIO], [u].[SEGUNDO_APELLIDO_USUARIO], [u].[SEGUNDO_NOMBRE_USUARIO], [u].[NICK_USUARIO]
FROM [USUARIOS] AS [u]
WHERE (([u].[NICK_USUARIO] = @__username_0) OR ([u].[CORREO_USUARIO] = @__username_0)) AND ([u].[PASSWORD_USUARIO] = @__password_1)
[22:04:35][ERR][Dach.ElectionSystem.Services.TokenJWT.TokenService]:Value cannot be null. (Parameter 'value')
[22:04:35][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Executed action Dach.ElectionSystem.WebApi.Properties.AuthController.Auth (Dach.ElectionSystem.WebApi) in 6233.3523ms
[22:04:35][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executed endpoint 'Dach.ElectionSystem.WebApi.Properties.AuthController.Auth (Dach.ElectionSystem.WebApi)'
[22:04:36][ERR][Common.WebApi.Middleware.ExceptionHandlingMiddleware]:Error Detectado: 
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at Dach.ElectionSystem.Services.TokenJWT.TokenService.GenerateTokenJwt(User user) in C:\Users\wwwda\Source\Repos\ElectionSystem\Dach.ElectionSystem.Services\TokenJWT\TokenService.cs:line 48
   at Dach.ElectionSystem.BusinessLogic.Auth.AuthHandler.Handle(LoginRequest request, CancellationToken cancellationToken) in C:\Users\wwwda\Source\Repos\ElectionSystem\Dach.ElectionSystem.BusinessLogic\Auth\AuthHandler.cs:line 44
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Dach.ElectionSystem.WebApi.Properties.AuthController.Auth(LoginRequest requestLogin) in C:\Users\wwwda\Source\Repos\ElectionSystem\Dach.ElectionSystem.WebApi\Controllers\AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Dach.ElectionSystem.Utils.Segurity.JWT.JwtAuthenticationMiddlware.Invoke(HttpContext context, ITokenService tokenService) in C:\Users\wwwda\Source\Repos\ElectionSystem\Dach.ElectionSystem.Utils\MiddlewareHandler\JwtAuthenticationMiddlware.cs:line 34
   at Common.WebApi.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext) in C:\Users\wwwda\Source\Repos\ElectionSystem\Dach.ElectionSystem.Utils\MiddlewareHandler\ExceptionHandlingMiddleware.cs:line 48
[22:04:36][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 POST https://localhost:44317/api/Auth application/json 80 - 500 - application/json 6786.7126ms
[22:04:45][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST https://localhost:44317/api/Auth application/json 80
[22:04:45][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Properties.AuthController.Auth (Dach.ElectionSystem.WebApi)'
[22:04:45][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "Auth", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Auth(Dach.ElectionSystem.Models.Auth.LoginRequest) on controller Dach.ElectionSystem.WebApi.Properties.AuthController (Dach.ElectionSystem.WebApi).
[22:04:45][INF][Microsoft.EntityFrameworkCore.Infrastructure]:Entity Framework Core 5.0.4 initialized 'WebApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: DetailedErrorsEnabled 
[22:04:45][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (2ms) [Parameters=[@__username_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ID_USUARIO], [u].[FECHA_NACIMIENTO_USUARIO], [u].[CEDULA_USUARIO], [u].[CORREO_USUARIO], [u].[APELLIDO_USUARIO], [u].[NOMBRE_USUARIO], [u].[ESTADO_USUARIO], [u].[PASSWORD_USUARIO], [u].[ROL_USUARIO], [u].[NOMBRE_ROL_USUARIO], [u].[SEGUNDO_APELLIDO_USUARIO], [u].[SEGUNDO_NOMBRE_USUARIO], [u].[NICK_USUARIO]
FROM [USUARIOS] AS [u]
WHERE (([u].[NICK_USUARIO] = @__username_0) OR ([u].[CORREO_USUARIO] = @__username_0)) AND ([u].[PASSWORD_USUARIO] = @__password_1)
[22:05:11][ERR][Dach.ElectionSystem.Services.TokenJWT.TokenService]:Value cannot be null. (Parameter 'value')
[22:05:12][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Executed action Dach.ElectionSystem.WebApi.Properties.AuthController.Auth (Dach.ElectionSystem.WebApi) in 26190.3063ms
[22:05:12][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executed endpoint 'Dach.ElectionSystem.WebApi.Properties.AuthController.Auth (Dach.ElectionSystem.WebApi)'
[22:05:12][ERR][Common.WebApi.Middleware.ExceptionHandlingMiddleware]:Error Detectado: 
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at Dach.ElectionSystem.Services.TokenJWT.TokenService.GenerateTokenJwt(User user) in C:\Users\wwwda\Source\Repos\ElectionSystem\Dach.ElectionSystem.Services\TokenJWT\TokenService.cs:line 48
   at Dach.ElectionSystem.BusinessLogic.Auth.AuthHandler.Handle(LoginRequest request, CancellationToken cancellationToken) in C:\Users\wwwda\Source\Repos\ElectionSystem\Dach.ElectionSystem.BusinessLogic\Auth\AuthHandler.cs:line 44
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Dach.ElectionSystem.WebApi.Properties.AuthController.Auth(LoginRequest requestLogin) in C:\Users\wwwda\Source\Repos\ElectionSystem\Dach.ElectionSystem.WebApi\Controllers\AuthController.cs:line 31
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Dach.ElectionSystem.Utils.Segurity.JWT.JwtAuthenticationMiddlware.Invoke(HttpContext context, ITokenService tokenService) in C:\Users\wwwda\Source\Repos\ElectionSystem\Dach.ElectionSystem.Utils\MiddlewareHandler\JwtAuthenticationMiddlware.cs:line 34
   at Common.WebApi.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext) in C:\Users\wwwda\Source\Repos\ElectionSystem\Dach.ElectionSystem.Utils\MiddlewareHandler\ExceptionHandlingMiddleware.cs:line 48
[22:05:12][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 POST https://localhost:44317/api/Auth application/json 80 - 500 - application/json 26368.9498ms
[22:09:00][INF][Microsoft.Hosting.Lifetime]:Application started. Press Ctrl+C to shut down.
[22:09:00][INF][Microsoft.Hosting.Lifetime]:Hosting environment: Development
[22:09:00][INF][Microsoft.Hosting.Lifetime]:Content root path: C:\Users\wwwda\Source\Repos\ElectionSystem\Dach.ElectionSystem.WebApi
[22:09:00][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/2 GET https://localhost:44317/swagger/index.html - -
[22:09:01][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/2 GET https://localhost:44317/swagger/index.html - - - 200 - text/html;charset=utf-8 191.6165ms
[22:09:01][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/2 GET https://localhost:44317/swagger/v1/swagger.json - -
[22:09:02][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/2 GET https://localhost:44317/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 153.4710ms
[22:09:28][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST https://localhost:44317/api/Auth application/json 80
[22:09:28][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Properties.AuthController.Auth (Dach.ElectionSystem.WebApi)'
[22:09:28][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "Auth", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Auth(Dach.ElectionSystem.Models.Auth.LoginRequest) on controller Dach.ElectionSystem.WebApi.Properties.AuthController (Dach.ElectionSystem.WebApi).
[22:09:29][INF][Microsoft.EntityFrameworkCore.Infrastructure]:Entity Framework Core 5.0.4 initialized 'WebApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: DetailedErrorsEnabled 
[22:09:30][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (47ms) [Parameters=[@__username_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ID_USUARIO], [u].[FECHA_NACIMIENTO_USUARIO], [u].[CEDULA_USUARIO], [u].[CORREO_USUARIO], [u].[APELLIDO_USUARIO], [u].[NOMBRE_USUARIO], [u].[ESTADO_USUARIO], [u].[PASSWORD_USUARIO], [u].[ROL_USUARIO], [u].[NOMBRE_ROL_USUARIO], [u].[SEGUNDO_APELLIDO_USUARIO], [u].[SEGUNDO_NOMBRE_USUARIO], [u].[NICK_USUARIO]
FROM [USUARIOS] AS [u]
WHERE (([u].[NICK_USUARIO] = @__username_0) OR ([u].[CORREO_USUARIO] = @__username_0)) AND ([u].[PASSWORD_USUARIO] = @__password_1)
[22:09:33][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor]:Executing OkObjectResult, writing value of type 'Dach.ElectionSystem.Models.ResponseBase.GenericResponse`1[[Dach.ElectionSystem.Models.Response.Auth.LoginResponse, Dach.ElectionSystem.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[22:09:33][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Executed action Dach.ElectionSystem.WebApi.Properties.AuthController.Auth (Dach.ElectionSystem.WebApi) in 4355.7779ms
[22:09:33][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executed endpoint 'Dach.ElectionSystem.WebApi.Properties.AuthController.Auth (Dach.ElectionSystem.WebApi)'
[22:09:33][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 POST https://localhost:44317/api/Auth application/json 80 - 200 - application/json;+charset=utf-8 4630.8306ms
[22:11:57][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST https://localhost:44317/api/Event application/json 225
[22:24:44][INF][Microsoft.Hosting.Lifetime]:Application started. Press Ctrl+C to shut down.
[22:24:44][INF][Microsoft.Hosting.Lifetime]:Hosting environment: Development
[22:24:44][INF][Microsoft.Hosting.Lifetime]:Content root path: C:\Users\wwwda\Source\Repos\ElectionSystem\Dach.ElectionSystem.WebApi
[22:24:45][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/2 GET https://localhost:44317/swagger/index.html - -
[22:24:45][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/2 GET https://localhost:44317/swagger/index.html - - - 200 - text/html;charset=utf-8 208.0634ms
[22:24:45][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/2 GET https://localhost:44317/swagger/v1/swagger.json - -
[22:24:45][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/2 GET https://localhost:44317/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 142.6909ms
[22:24:53][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST https://localhost:44317/api/Event application/json 225
[22:58:12][INF][Microsoft.Hosting.Lifetime]:Application started. Press Ctrl+C to shut down.
[22:58:12][INF][Microsoft.Hosting.Lifetime]:Hosting environment: Development
[22:58:12][INF][Microsoft.Hosting.Lifetime]:Content root path: C:\Users\wwwda\Source\Repos\ElectionSystem\Dach.ElectionSystem.WebApi
[22:58:12][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/2 GET https://localhost:44317/swagger/index.html - -
[22:58:12][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/2 GET https://localhost:44317/swagger/index.html - - - 200 - text/html;charset=utf-8 222.2792ms
[22:58:13][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/2 GET https://localhost:44317/swagger/v1/swagger.json - -
[22:58:13][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/2 GET https://localhost:44317/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 154.5893ms
[22:58:16][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST https://localhost:44317/api/Event application/json 225
[22:58:22][ERR][Common.WebApi.Middleware.ExceptionHandlingMiddleware]:Error Detectado: 
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Dach.ElectionSystem.Services.TokenJWT.TokenService.ValidateToken(HttpContext context) in C:\Users\wwwda\Source\Repos\ElectionSystem\Dach.ElectionSystem.Services\TokenJWT\TokenService.cs:line 83
   at Dach.ElectionSystem.Utils.Segurity.JWT.JwtAuthenticationMiddlware.Invoke(HttpContext context, ITokenService tokenService) in C:\Users\wwwda\Source\Repos\ElectionSystem\Dach.ElectionSystem.Utils\MiddlewareHandler\JwtAuthenticationMiddlware.cs:line 38
   at Common.WebApi.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext) in C:\Users\wwwda\Source\Repos\ElectionSystem\Dach.ElectionSystem.Utils\MiddlewareHandler\ExceptionHandlingMiddleware.cs:line 48
[22:58:22][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 POST https://localhost:44317/api/Event application/json 225 - 500 - application/json 5935.5086ms
[22:58:26][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST https://localhost:44317/api/Auth application/json 80
[22:58:26][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Properties.AuthController.Auth (Dach.ElectionSystem.WebApi)'
[22:58:26][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "Auth", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Auth(Dach.ElectionSystem.Models.Auth.LoginRequest) on controller Dach.ElectionSystem.WebApi.Properties.AuthController (Dach.ElectionSystem.WebApi).
[22:58:26][INF][Microsoft.EntityFrameworkCore.Infrastructure]:Entity Framework Core 5.0.4 initialized 'WebApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: DetailedErrorsEnabled 
[22:58:27][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (38ms) [Parameters=[@__username_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ID_USUARIO], [u].[FECHA_NACIMIENTO_USUARIO], [u].[CEDULA_USUARIO], [u].[CORREO_USUARIO], [u].[APELLIDO_USUARIO], [u].[NOMBRE_USUARIO], [u].[ESTADO_USUARIO], [u].[PASSWORD_USUARIO], [u].[ROL_USUARIO], [u].[NOMBRE_ROL_USUARIO], [u].[SEGUNDO_APELLIDO_USUARIO], [u].[SEGUNDO_NOMBRE_USUARIO], [u].[NICK_USUARIO]
FROM [USUARIOS] AS [u]
WHERE (([u].[NICK_USUARIO] = @__username_0) OR ([u].[CORREO_USUARIO] = @__username_0)) AND ([u].[PASSWORD_USUARIO] = @__password_1)
[22:58:29][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor]:Executing OkObjectResult, writing value of type 'Dach.ElectionSystem.Models.ResponseBase.GenericResponse`1[[Dach.ElectionSystem.Models.Response.Auth.LoginResponse, Dach.ElectionSystem.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[22:58:29][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Executed action Dach.ElectionSystem.WebApi.Properties.AuthController.Auth (Dach.ElectionSystem.WebApi) in 3452.8209ms
[22:58:29][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executed endpoint 'Dach.ElectionSystem.WebApi.Properties.AuthController.Auth (Dach.ElectionSystem.WebApi)'
[22:58:29][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 POST https://localhost:44317/api/Auth application/json 80 - 200 - application/json;+charset=utf-8 3540.1758ms
[22:58:33][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST https://localhost:44317/api/Candidate application/json 154
[22:58:36][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Controllers.CandidateController.CreateCandidate (Dach.ElectionSystem.WebApi)'
[22:58:36][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "CreateCandidate", controller = "Candidate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCandidate(Dach.ElectionSystem.Models.Request.Candidate.CandidateCreateRequest) on controller Dach.ElectionSystem.WebApi.Controllers.CandidateController (Dach.ElectionSystem.WebApi).
[22:58:36][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Executed action Dach.ElectionSystem.WebApi.Controllers.CandidateController.CreateCandidate (Dach.ElectionSystem.WebApi) in 1.0531ms
[22:58:36][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executed endpoint 'Dach.ElectionSystem.WebApi.Controllers.CandidateController.CreateCandidate (Dach.ElectionSystem.WebApi)'
[22:58:36][ERR][Common.WebApi.Middleware.ExceptionHandlingMiddleware]:Error Detectado: 
System.InvalidOperationException: Unable to resolve service for type 'Dach.ElectionSystem.Services.Logger.ILoggerCustom' while attempting to activate 'Dach.ElectionSystem.WebApi.Controllers.CandidateController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method97(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Dach.ElectionSystem.Utils.Segurity.JWT.JwtAuthenticationMiddlware.Invoke(HttpContext context, ITokenService tokenService) in C:\Users\wwwda\Source\Repos\ElectionSystem\Dach.ElectionSystem.Utils\MiddlewareHandler\JwtAuthenticationMiddlware.cs:line 39
   at Common.WebApi.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext) in C:\Users\wwwda\Source\Repos\ElectionSystem\Dach.ElectionSystem.Utils\MiddlewareHandler\ExceptionHandlingMiddleware.cs:line 48
[22:58:36][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 POST https://localhost:44317/api/Candidate application/json 154 - 500 - application/json 2913.7273ms
[23:00:10][INF][Microsoft.Hosting.Lifetime]:Application started. Press Ctrl+C to shut down.
[23:00:10][INF][Microsoft.Hosting.Lifetime]:Hosting environment: Development
[23:00:10][INF][Microsoft.Hosting.Lifetime]:Content root path: C:\Users\wwwda\Source\Repos\ElectionSystem\Dach.ElectionSystem.WebApi
[23:00:10][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/2 GET https://localhost:44317/swagger/index.html - -
[23:00:10][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/2 GET https://localhost:44317/swagger/index.html - - - 200 - text/html;charset=utf-8 274.4010ms
[23:00:10][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/2 GET https://localhost:44317/swagger/v1/swagger.json - -
[23:00:11][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/2 GET https://localhost:44317/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 166.9949ms
[23:00:12][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST https://localhost:44317/api/Candidate application/json 154
[23:00:12][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Controllers.CandidateController.CreateCandidate (Dach.ElectionSystem.WebApi)'
[23:00:12][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "CreateCandidate", controller = "Candidate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCandidate(Dach.ElectionSystem.Models.Request.Candidate.CandidateCreateRequest) on controller Dach.ElectionSystem.WebApi.Controllers.CandidateController (Dach.ElectionSystem.WebApi).
[23:04:18][INF][Microsoft.Hosting.Lifetime]:Application started. Press Ctrl+C to shut down.
[23:04:18][INF][Microsoft.Hosting.Lifetime]:Hosting environment: Development
[23:04:18][INF][Microsoft.Hosting.Lifetime]:Content root path: C:\Users\wwwda\Source\Repos\ElectionSystem\Dach.ElectionSystem.WebApi
[23:04:18][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/2 GET https://localhost:44317/swagger/index.html - -
[23:04:18][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/2 GET https://localhost:44317/swagger/index.html - - - 200 - text/html;charset=utf-8 268.0888ms
[23:04:19][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/2 GET https://localhost:44317/swagger/v1/swagger.json - -
[23:04:19][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/2 GET https://localhost:44317/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 159.7287ms
[23:04:22][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST https://localhost:44317/api/Candidate application/json 154
[23:04:22][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Controllers.CandidateController.CreateCandidate (Dach.ElectionSystem.WebApi)'
[23:04:22][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "CreateCandidate", controller = "Candidate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCandidate(Dach.ElectionSystem.Models.Request.Candidate.CandidateCreateRequest) on controller Dach.ElectionSystem.WebApi.Controllers.CandidateController (Dach.ElectionSystem.WebApi).
[23:07:52][ERR][Dach.ElectionSystem.Services.TokenJWT.TokenService]:Sequence contains no elements
[23:08:01][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Executed action Dach.ElectionSystem.WebApi.Controllers.CandidateController.CreateCandidate (Dach.ElectionSystem.WebApi) in 218632.4943ms
[23:08:01][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executed endpoint 'Dach.ElectionSystem.WebApi.Controllers.CandidateController.CreateCandidate (Dach.ElectionSystem.WebApi)'
[23:08:03][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 POST https://localhost:44317/api/Candidate application/json 154 - 401 - application/json 221090.9245ms
[23:08:21][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST https://localhost:44317/api/Candidate application/json 154
[23:08:21][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Controllers.CandidateController.CreateCandidate (Dach.ElectionSystem.WebApi)'
[23:08:21][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "CreateCandidate", controller = "Candidate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCandidate(Dach.ElectionSystem.Models.Request.Candidate.CandidateCreateRequest) on controller Dach.ElectionSystem.WebApi.Controllers.CandidateController (Dach.ElectionSystem.WebApi).
[23:09:18][ERR][Dach.ElectionSystem.Services.TokenJWT.TokenService]:Sequence contains no elements
[23:09:20][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Executed action Dach.ElectionSystem.WebApi.Controllers.CandidateController.CreateCandidate (Dach.ElectionSystem.WebApi) in 58849.1042ms
[23:09:20][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executed endpoint 'Dach.ElectionSystem.WebApi.Controllers.CandidateController.CreateCandidate (Dach.ElectionSystem.WebApi)'
[23:09:20][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 POST https://localhost:44317/api/Candidate application/json 154 - 401 - application/json 58906.3610ms
[23:09:22][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST https://localhost:44317/api/Candidate application/json 154
[23:09:22][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Controllers.CandidateController.CreateCandidate (Dach.ElectionSystem.WebApi)'
[23:09:22][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "CreateCandidate", controller = "Candidate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCandidate(Dach.ElectionSystem.Models.Request.Candidate.CandidateCreateRequest) on controller Dach.ElectionSystem.WebApi.Controllers.CandidateController (Dach.ElectionSystem.WebApi).
[23:15:10][INF][Microsoft.Hosting.Lifetime]:Application started. Press Ctrl+C to shut down.
[23:15:10][INF][Microsoft.Hosting.Lifetime]:Hosting environment: Development
[23:15:10][INF][Microsoft.Hosting.Lifetime]:Content root path: C:\Users\wwwda\Source\Repos\ElectionSystem\Dach.ElectionSystem.WebApi
[23:15:10][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/2 GET https://localhost:44317/swagger/index.html - -
[23:15:10][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/2 GET https://localhost:44317/swagger/index.html - - - 200 - text/html;charset=utf-8 270.0880ms
[23:15:11][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/2 GET https://localhost:44317/swagger/v1/swagger.json - -
[23:15:11][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/2 GET https://localhost:44317/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 170.5496ms
[23:15:14][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST https://localhost:44317/api/Candidate application/json 154
[23:15:14][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Controllers.CandidateController.CreateCandidate (Dach.ElectionSystem.WebApi)'
[23:15:14][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "CreateCandidate", controller = "Candidate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCandidate(Dach.ElectionSystem.Models.Request.Candidate.CandidateCreateRequest) on controller Dach.ElectionSystem.WebApi.Controllers.CandidateController (Dach.ElectionSystem.WebApi).
[23:28:01][INF][Microsoft.Hosting.Lifetime]:Application started. Press Ctrl+C to shut down.
[23:28:01][INF][Microsoft.Hosting.Lifetime]:Hosting environment: Development
[23:28:01][INF][Microsoft.Hosting.Lifetime]:Content root path: C:\Users\wwwda\Source\Repos\ElectionSystem\Dach.ElectionSystem.WebApi
[23:28:01][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/2 GET https://localhost:44317/swagger/index.html - -
[23:28:01][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/2 GET https://localhost:44317/swagger/index.html - - - 200 - text/html;charset=utf-8 203.8221ms
[23:28:02][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/2 GET https://localhost:44317/swagger/v1/swagger.json - -
[23:28:03][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/2 GET https://localhost:44317/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 160.2174ms
[23:28:34][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST https://localhost:44317/api/Candidate application/json 154
[23:28:34][ERR][Common.WebApi.Middleware.ExceptionHandlingMiddleware]:Error Detectado: 
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Dach.ElectionSystem.Services.TokenJWT.TokenService.ValidateToken(HttpContext context) in C:\Users\wwwda\Source\Repos\ElectionSystem\Dach.ElectionSystem.Services\TokenJWT\TokenService.cs:line 83
   at Dach.ElectionSystem.Utils.Segurity.JWT.JwtAuthenticationMiddlware.Invoke(HttpContext context, ITokenService tokenService) in C:\Users\wwwda\Source\Repos\ElectionSystem\Dach.ElectionSystem.Utils\MiddlewareHandler\JwtAuthenticationMiddlware.cs:line 38
   at Common.WebApi.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext) in C:\Users\wwwda\Source\Repos\ElectionSystem\Dach.ElectionSystem.Utils\MiddlewareHandler\ExceptionHandlingMiddleware.cs:line 48
[23:28:34][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 POST https://localhost:44317/api/Candidate application/json 154 - 500 - application/json 547.4554ms
[23:28:37][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST https://localhost:44317/api/Auth application/json 80
[23:28:37][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Properties.AuthController.Auth (Dach.ElectionSystem.WebApi)'
[23:28:38][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "Auth", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Auth(Dach.ElectionSystem.Models.Auth.LoginRequest) on controller Dach.ElectionSystem.WebApi.Properties.AuthController (Dach.ElectionSystem.WebApi).
[23:28:38][INF][Microsoft.EntityFrameworkCore.Infrastructure]:Entity Framework Core 5.0.4 initialized 'WebApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: DetailedErrorsEnabled 
[23:28:39][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (39ms) [Parameters=[@__username_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ID_USUARIO], [u].[FECHA_NACIMIENTO_USUARIO], [u].[CEDULA_USUARIO], [u].[CORREO_USUARIO], [u].[APELLIDO_USUARIO], [u].[NOMBRE_USUARIO], [u].[ESTADO_USUARIO], [u].[PASSWORD_USUARIO], [u].[ROL_USUARIO], [u].[NOMBRE_ROL_USUARIO], [u].[SEGUNDO_APELLIDO_USUARIO], [u].[SEGUNDO_NOMBRE_USUARIO], [u].[NICK_USUARIO]
FROM [USUARIOS] AS [u]
WHERE (([u].[NICK_USUARIO] = @__username_0) OR ([u].[CORREO_USUARIO] = @__username_0)) AND ([u].[PASSWORD_USUARIO] = @__password_1)
[23:28:41][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor]:Executing OkObjectResult, writing value of type 'Dach.ElectionSystem.Models.ResponseBase.GenericResponse`1[[Dach.ElectionSystem.Models.Response.Auth.LoginResponse, Dach.ElectionSystem.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[23:28:41][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Executed action Dach.ElectionSystem.WebApi.Properties.AuthController.Auth (Dach.ElectionSystem.WebApi) in 3610.6391ms
[23:28:41][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executed endpoint 'Dach.ElectionSystem.WebApi.Properties.AuthController.Auth (Dach.ElectionSystem.WebApi)'
[23:28:41][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 POST https://localhost:44317/api/Auth application/json 80 - 200 - application/json;+charset=utf-8 3687.9258ms
[23:28:44][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST https://localhost:44317/api/Event application/json 225
[23:28:44][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Controllers.EventController.Post (Dach.ElectionSystem.WebApi)'
[23:28:44][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "Post", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(Dach.ElectionSystem.Models.Request.Event.EventCreateRequest) on controller Dach.ElectionSystem.WebApi.Controllers.EventController (Dach.ElectionSystem.WebApi).
[23:28:47][INF][Microsoft.EntityFrameworkCore.Infrastructure]:Entity Framework Core 5.0.4 initialized 'WebApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: DetailedErrorsEnabled 
[23:28:47][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EVENTOS] ([CATEGORIA], [DESCRIPCION_EVENTO], [FOTO_EVENTO], [MAX_PERSONAS_EVENTO], [NOMBRE_EVENTO], [NUM_MAX_CANDIDATOS_EVENTO], [NUM_MAX_PERSONAS_EVENTO])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [ID_EVENTO]
FROM [EVENTOS]
WHERE @@ROWCOUNT = 1 AND [ID_EVENTO] = scope_identity();
[23:28:52][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor]:Executing OkObjectResult, writing value of type 'Dach.ElectionSystem.Models.ResponseBase.GenericResponse`1[[Dach.ElectionSystem.Models.Response.Event.EventCreateResponse, Dach.ElectionSystem.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[23:28:52][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Executed action Dach.ElectionSystem.WebApi.Controllers.EventController.Post (Dach.ElectionSystem.WebApi) in 8174.4918ms
[23:28:52][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executed endpoint 'Dach.ElectionSystem.WebApi.Controllers.EventController.Post (Dach.ElectionSystem.WebApi)'
[23:28:52][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 POST https://localhost:44317/api/Event application/json 225 - 200 - application/json;+charset=utf-8 8195.6334ms
[23:29:09][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST https://localhost:44317/api/Event application/json 225
[23:29:09][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Controllers.EventController.Post (Dach.ElectionSystem.WebApi)'
[23:29:09][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "Post", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(Dach.ElectionSystem.Models.Request.Event.EventCreateRequest) on controller Dach.ElectionSystem.WebApi.Controllers.EventController (Dach.ElectionSystem.WebApi).
[23:29:11][INF][Microsoft.EntityFrameworkCore.Infrastructure]:Entity Framework Core 5.0.4 initialized 'WebApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: DetailedErrorsEnabled 
[23:29:11][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EVENTOS] ([CATEGORIA], [DESCRIPCION_EVENTO], [FOTO_EVENTO], [MAX_PERSONAS_EVENTO], [NOMBRE_EVENTO], [NUM_MAX_CANDIDATOS_EVENTO], [NUM_MAX_PERSONAS_EVENTO])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [ID_EVENTO]
FROM [EVENTOS]
WHERE @@ROWCOUNT = 1 AND [ID_EVENTO] = scope_identity();
[23:29:11][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor]:Executing OkObjectResult, writing value of type 'Dach.ElectionSystem.Models.ResponseBase.GenericResponse`1[[Dach.ElectionSystem.Models.Response.Event.EventCreateResponse, Dach.ElectionSystem.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[23:29:11][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Executed action Dach.ElectionSystem.WebApi.Controllers.EventController.Post (Dach.ElectionSystem.WebApi) in 2647.5498ms
[23:29:11][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executed endpoint 'Dach.ElectionSystem.WebApi.Controllers.EventController.Post (Dach.ElectionSystem.WebApi)'
[23:29:11][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 POST https://localhost:44317/api/Event application/json 225 - 200 - application/json;+charset=utf-8 2649.5309ms
[23:29:36][INF][Microsoft.Hosting.Lifetime]:Application started. Press Ctrl+C to shut down.
[23:29:36][INF][Microsoft.Hosting.Lifetime]:Hosting environment: Development
[23:29:36][INF][Microsoft.Hosting.Lifetime]:Content root path: C:\Users\wwwda\Source\Repos\ElectionSystem\Dach.ElectionSystem.WebApi
[23:29:36][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/2 GET https://localhost:44317/swagger/index.html - -
[23:29:37][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/2 GET https://localhost:44317/swagger/index.html - - - 200 - text/html;charset=utf-8 188.0750ms
[23:29:38][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/2 GET https://localhost:44317/swagger/v1/swagger.json - -
[23:29:38][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/2 GET https://localhost:44317/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 172.4095ms
[23:29:42][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST https://localhost:44317/api/Candidate application/json 154
[23:29:42][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Controllers.CandidateController.CreateCandidate (Dach.ElectionSystem.WebApi)'
[23:29:43][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "CreateCandidate", controller = "Candidate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCandidate(Dach.ElectionSystem.Models.Request.Candidate.CandidateCreateRequest) on controller Dach.ElectionSystem.WebApi.Controllers.CandidateController (Dach.ElectionSystem.WebApi).
[23:29:55][ERR][Dach.ElectionSystem.Services.TokenJWT.TokenService]:Sequence contains no elements
[23:29:58][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Executed action Dach.ElectionSystem.WebApi.Controllers.CandidateController.CreateCandidate (Dach.ElectionSystem.WebApi) in 15188.6165ms
[23:29:58][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executed endpoint 'Dach.ElectionSystem.WebApi.Controllers.CandidateController.CreateCandidate (Dach.ElectionSystem.WebApi)'
[23:29:58][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 POST https://localhost:44317/api/Candidate application/json 154 - 401 - application/json 15739.1097ms
[23:29:59][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST https://localhost:44317/api/Candidate application/json 154
[23:29:59][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Controllers.CandidateController.CreateCandidate (Dach.ElectionSystem.WebApi)'
[23:29:59][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "CreateCandidate", controller = "Candidate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCandidate(Dach.ElectionSystem.Models.Request.Candidate.CandidateCreateRequest) on controller Dach.ElectionSystem.WebApi.Controllers.CandidateController (Dach.ElectionSystem.WebApi).
