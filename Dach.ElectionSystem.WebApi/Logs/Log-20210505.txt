[20:48:46][INF][Microsoft.Hosting.Lifetime]:Now listening on: http://localhost:44317
[20:48:46][INF][Microsoft.Hosting.Lifetime]:Application started. Press Ctrl+C to shut down.
[20:48:46][INF][Microsoft.Hosting.Lifetime]:Hosting environment: Development
[20:48:46][INF][Microsoft.Hosting.Lifetime]:Content root path: C:\Users\wwwda\source\repos\ElectionSystem\Dach.ElectionSystem.WebApi
[20:48:46][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 GET http://localhost:44317/swagger - -
[20:48:47][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 GET http://localhost:44317/swagger - - - 301 0 - 96.2664ms
[20:48:47][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 GET http://localhost:44317/swagger/index.html - -
[20:48:47][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 GET http://localhost:44317/swagger/index.html - - - 200 - text/html;charset=utf-8 54.0004ms
[20:48:47][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 GET http://localhost:44317/swagger/swagger-ui.css - -
[20:48:47][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 GET http://localhost:44317/swagger/swagger-ui-bundle.js - -
[20:48:47][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 GET http://localhost:44317/swagger/swagger-ui-standalone-preset.js - -
[20:48:47][INF][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware]:Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
[20:48:47][INF][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware]:Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
[20:48:47][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 GET http://localhost:44317/swagger/swagger-ui.css - - - 200 142933 text/css 47.5153ms
[20:48:47][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 GET http://localhost:44317/swagger/swagger-ui-standalone-preset.js - - - 200 311804 application/javascript 40.0526ms
[20:48:47][INF][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware]:Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
[20:48:47][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 GET http://localhost:44317/swagger/swagger-ui-bundle.js - - - 200 986342 application/javascript 50.7468ms
[20:48:47][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 GET http://localhost:44317/swagger/v1/swagger.json - -
[20:48:48][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 GET http://localhost:44317/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 611.5963ms
[20:49:48][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST http://localhost:44317/api/auth/login application/json 70
[20:49:48][WRN][Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware]:Failed to determine the https port for redirect.
[20:49:48][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Properties.AuthController.Auth (Dach.ElectionSystem.WebApi)'
[20:49:48][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "Auth", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Auth(Dach.ElectionSystem.Models.Auth.LoginRequest) on controller Dach.ElectionSystem.WebApi.Properties.AuthController (Dach.ElectionSystem.WebApi).
[20:49:49][INF][Microsoft.EntityFrameworkCore.Infrastructure]:Entity Framework Core 5.0.4 initialized 'WebApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[20:49:49][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (41ms) [Parameters=[@__request_Email_0='?' (Size = 4000), @__passwordHash_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK]
FROM [USUARIOS] AS [u]
WHERE ([u].[USU_CORREO] = @__request_Email_0) AND (([u].[USU_PASSWORD] = @__passwordHash_1) OR ([u].[USU_TEM_PASSWORD] = @__passwordHash_1))
[20:49:50][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor]:Executing OkObjectResult, writing value of type 'Dach.ElectionSystem.Models.ResponseBase.GenericResponse`1[[Dach.ElectionSystem.Models.Response.Auth.LoginResponse, Dach.ElectionSystem.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[20:49:50][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Executed action Dach.ElectionSystem.WebApi.Properties.AuthController.Auth (Dach.ElectionSystem.WebApi) in 1602.121ms
[20:49:50][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executed endpoint 'Dach.ElectionSystem.WebApi.Properties.AuthController.Auth (Dach.ElectionSystem.WebApi)'
[20:49:50][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 POST http://localhost:44317/api/auth/login application/json 70 - 200 - application/json;+charset=utf-8 1695.2198ms
[20:50:02][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST http://localhost:44317/api/events application/json 229
[20:50:02][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Controllers.EventController.CreateEvent (Dach.ElectionSystem.WebApi)'
[20:50:02][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "CreateEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEvent(Dach.ElectionSystem.Models.Request.Event.EventCreateRequest) on controller Dach.ElectionSystem.WebApi.Controllers.EventController (Dach.ElectionSystem.WebApi).
[20:50:02][INF][Microsoft.EntityFrameworkCore.Infrastructure]:Entity Framework Core 5.0.4 initialized 'WebApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[20:50:02][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (5ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32), @__request_TokenModel_Username_1='?' (Size = 4000), @__request_TokenModel_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK], [e].[EVT_CAN_ID], [e].[EVT_CAN_USU_ID], [e].[EVT_CAN_NUMERO_EVENTO], [a].[ADMINEVENT_ID], [a].[ADMINEVENT_FECHA], [a].[ADMINEVENT_EVENT_ID], [a].[ADMINEVENT_USER_ID], [a].[ADMINEVENT_PRVILEGIOS], [a].[ADMINEVENT_ESTADO]
FROM [USUARIOS] AS [u]
LEFT JOIN [EVENTOS_CANTIDAD] AS [e] ON [u].[USU_ID] = [e].[EVT_CAN_USU_ID]
LEFT JOIN [ADMINISTRADOR_EVENTO] AS [a] ON [u].[USU_ID] = [a].[ADMINEVENT_USER_ID]
WHERE (([u].[USU_ID] = @__ToInt32_0) AND ([u].[USU_NICK] = @__request_TokenModel_Username_1)) AND ([u].[USU_CORREO] = @__request_TokenModel_Email_2)
ORDER BY [u].[USU_ID], [e].[EVT_CAN_ID], [a].[ADMINEVENT_ID]
[20:50:03][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (1ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32), @__request_TokenModel_Username_1='?' (Size = 4000), @__request_TokenModel_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK], [e].[EVT_CAN_ID], [e].[EVT_CAN_USU_ID], [e].[EVT_CAN_NUMERO_EVENTO], [a].[ADMINEVENT_ID], [a].[ADMINEVENT_FECHA], [a].[ADMINEVENT_EVENT_ID], [a].[ADMINEVENT_USER_ID], [a].[ADMINEVENT_PRVILEGIOS], [a].[ADMINEVENT_ESTADO]
FROM [USUARIOS] AS [u]
LEFT JOIN [EVENTOS_CANTIDAD] AS [e] ON [u].[USU_ID] = [e].[EVT_CAN_USU_ID]
LEFT JOIN [ADMINISTRADOR_EVENTO] AS [a] ON [u].[USU_ID] = [a].[ADMINEVENT_USER_ID]
WHERE (([u].[USU_ID] = @__ToInt32_0) AND ([u].[USU_NICK] = @__request_TokenModel_Username_1)) AND ([u].[USU_CORREO] = @__request_TokenModel_Email_2)
ORDER BY [u].[USU_ID], [e].[EVT_CAN_ID], [a].[ADMINEVENT_ID]
[20:50:03][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (2ms) [Parameters=[@__userCurrent_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EVT_ID], [e].[EVT_CATEGORIA], [e].[EVT_CODIGO_EVENTO], [e].[EVT_DESCRIPCION], [e].[EVT_ID_USUARIO_CREADOR], [e].[EVT_FOTO], [e].[EVT_ESTADO], [e].[EVT_BORRADO], [e].[EVT_MAX_PERSONAS], [e].[EVT_NOMBRE], [e].[EVT_NUM_MAX_CANDIDATOS], [e].[EVT_NUM_MAX_PERSONAS]
FROM [EVENTOS] AS [e]
WHERE ([e].[EVT_ID_USUARIO_CREADOR] = @__userCurrent_Id_0) AND ([e].[EVT_BORRADO] <> CAST(1 AS bit))
[20:50:03][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EVENTOS] ([EVT_CATEGORIA], [EVT_CODIGO_EVENTO], [EVT_DESCRIPCION], [EVT_ID_USUARIO_CREADOR], [EVT_FOTO], [EVT_ESTADO], [EVT_BORRADO], [EVT_MAX_PERSONAS], [EVT_NOMBRE], [EVT_NUM_MAX_CANDIDATOS], [EVT_NUM_MAX_PERSONAS])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
SELECT [EVT_ID]
FROM [EVENTOS]
WHERE @@ROWCOUNT = 1 AND [EVT_ID] = scope_identity();
[20:50:03][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (2ms) [Parameters=[@p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [ADMINISTRADOR_EVENTO] ([ADMINEVENT_FECHA], [ADMINEVENT_EVENT_ID], [ADMINEVENT_USER_ID], [ADMINEVENT_PRVILEGIOS], [ADMINEVENT_ESTADO])
VALUES (@p11, @p12, @p13, @p14, @p15);
SELECT [ADMINEVENT_ID]
FROM [ADMINISTRADOR_EVENTO]
WHERE @@ROWCOUNT = 1 AND [ADMINEVENT_ID] = scope_identity();
[20:50:03][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor]:Executing OkObjectResult, writing value of type 'Dach.ElectionSystem.Models.ResponseBase.GenericResponse`1[[Dach.ElectionSystem.Models.Response.Event.EventCreateResponse, Dach.ElectionSystem.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[20:50:03][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Executed action Dach.ElectionSystem.WebApi.Controllers.EventController.CreateEvent (Dach.ElectionSystem.WebApi) in 475.5556ms
[20:50:03][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executed endpoint 'Dach.ElectionSystem.WebApi.Controllers.EventController.CreateEvent (Dach.ElectionSystem.WebApi)'
[20:50:03][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 POST http://localhost:44317/api/events application/json 229 - 200 - application/json;+charset=utf-8 523.7841ms
[20:50:04][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST http://localhost:44317/api/events application/json 229
[20:50:04][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Controllers.EventController.CreateEvent (Dach.ElectionSystem.WebApi)'
[20:50:04][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "CreateEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEvent(Dach.ElectionSystem.Models.Request.Event.EventCreateRequest) on controller Dach.ElectionSystem.WebApi.Controllers.EventController (Dach.ElectionSystem.WebApi).
[20:50:04][INF][Microsoft.EntityFrameworkCore.Infrastructure]:Entity Framework Core 5.0.4 initialized 'WebApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[20:50:04][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (3ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32), @__request_TokenModel_Username_1='?' (Size = 4000), @__request_TokenModel_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK], [e].[EVT_CAN_ID], [e].[EVT_CAN_USU_ID], [e].[EVT_CAN_NUMERO_EVENTO], [a].[ADMINEVENT_ID], [a].[ADMINEVENT_FECHA], [a].[ADMINEVENT_EVENT_ID], [a].[ADMINEVENT_USER_ID], [a].[ADMINEVENT_PRVILEGIOS], [a].[ADMINEVENT_ESTADO]
FROM [USUARIOS] AS [u]
LEFT JOIN [EVENTOS_CANTIDAD] AS [e] ON [u].[USU_ID] = [e].[EVT_CAN_USU_ID]
LEFT JOIN [ADMINISTRADOR_EVENTO] AS [a] ON [u].[USU_ID] = [a].[ADMINEVENT_USER_ID]
WHERE (([u].[USU_ID] = @__ToInt32_0) AND ([u].[USU_NICK] = @__request_TokenModel_Username_1)) AND ([u].[USU_CORREO] = @__request_TokenModel_Email_2)
ORDER BY [u].[USU_ID], [e].[EVT_CAN_ID], [a].[ADMINEVENT_ID]
[20:50:04][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (1ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32), @__request_TokenModel_Username_1='?' (Size = 4000), @__request_TokenModel_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK], [e].[EVT_CAN_ID], [e].[EVT_CAN_USU_ID], [e].[EVT_CAN_NUMERO_EVENTO], [a].[ADMINEVENT_ID], [a].[ADMINEVENT_FECHA], [a].[ADMINEVENT_EVENT_ID], [a].[ADMINEVENT_USER_ID], [a].[ADMINEVENT_PRVILEGIOS], [a].[ADMINEVENT_ESTADO]
FROM [USUARIOS] AS [u]
LEFT JOIN [EVENTOS_CANTIDAD] AS [e] ON [u].[USU_ID] = [e].[EVT_CAN_USU_ID]
LEFT JOIN [ADMINISTRADOR_EVENTO] AS [a] ON [u].[USU_ID] = [a].[ADMINEVENT_USER_ID]
WHERE (([u].[USU_ID] = @__ToInt32_0) AND ([u].[USU_NICK] = @__request_TokenModel_Username_1)) AND ([u].[USU_CORREO] = @__request_TokenModel_Email_2)
ORDER BY [u].[USU_ID], [e].[EVT_CAN_ID], [a].[ADMINEVENT_ID]
[20:50:04][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (1ms) [Parameters=[@__userCurrent_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EVT_ID], [e].[EVT_CATEGORIA], [e].[EVT_CODIGO_EVENTO], [e].[EVT_DESCRIPCION], [e].[EVT_ID_USUARIO_CREADOR], [e].[EVT_FOTO], [e].[EVT_ESTADO], [e].[EVT_BORRADO], [e].[EVT_MAX_PERSONAS], [e].[EVT_NOMBRE], [e].[EVT_NUM_MAX_CANDIDATOS], [e].[EVT_NUM_MAX_PERSONAS]
FROM [EVENTOS] AS [e]
WHERE ([e].[EVT_ID_USUARIO_CREADOR] = @__userCurrent_Id_0) AND ([e].[EVT_BORRADO] <> CAST(1 AS bit))
[20:50:05][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Executed action Dach.ElectionSystem.WebApi.Controllers.EventController.CreateEvent (Dach.ElectionSystem.WebApi) in 149.8907ms
[20:50:05][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executed endpoint 'Dach.ElectionSystem.WebApi.Controllers.EventController.CreateEvent (Dach.ElectionSystem.WebApi)'
[20:50:05][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 POST http://localhost:44317/api/events application/json 229 - 400 - application/json 365.0762ms
[20:50:06][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST http://localhost:44317/api/events application/json 229
[20:50:06][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Controllers.EventController.CreateEvent (Dach.ElectionSystem.WebApi)'
[20:50:06][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "CreateEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEvent(Dach.ElectionSystem.Models.Request.Event.EventCreateRequest) on controller Dach.ElectionSystem.WebApi.Controllers.EventController (Dach.ElectionSystem.WebApi).
[20:50:06][INF][Microsoft.EntityFrameworkCore.Infrastructure]:Entity Framework Core 5.0.4 initialized 'WebApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[20:50:06][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (2ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32), @__request_TokenModel_Username_1='?' (Size = 4000), @__request_TokenModel_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK], [e].[EVT_CAN_ID], [e].[EVT_CAN_USU_ID], [e].[EVT_CAN_NUMERO_EVENTO], [a].[ADMINEVENT_ID], [a].[ADMINEVENT_FECHA], [a].[ADMINEVENT_EVENT_ID], [a].[ADMINEVENT_USER_ID], [a].[ADMINEVENT_PRVILEGIOS], [a].[ADMINEVENT_ESTADO]
FROM [USUARIOS] AS [u]
LEFT JOIN [EVENTOS_CANTIDAD] AS [e] ON [u].[USU_ID] = [e].[EVT_CAN_USU_ID]
LEFT JOIN [ADMINISTRADOR_EVENTO] AS [a] ON [u].[USU_ID] = [a].[ADMINEVENT_USER_ID]
WHERE (([u].[USU_ID] = @__ToInt32_0) AND ([u].[USU_NICK] = @__request_TokenModel_Username_1)) AND ([u].[USU_CORREO] = @__request_TokenModel_Email_2)
ORDER BY [u].[USU_ID], [e].[EVT_CAN_ID], [a].[ADMINEVENT_ID]
[20:50:06][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (2ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32), @__request_TokenModel_Username_1='?' (Size = 4000), @__request_TokenModel_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK], [e].[EVT_CAN_ID], [e].[EVT_CAN_USU_ID], [e].[EVT_CAN_NUMERO_EVENTO], [a].[ADMINEVENT_ID], [a].[ADMINEVENT_FECHA], [a].[ADMINEVENT_EVENT_ID], [a].[ADMINEVENT_USER_ID], [a].[ADMINEVENT_PRVILEGIOS], [a].[ADMINEVENT_ESTADO]
FROM [USUARIOS] AS [u]
LEFT JOIN [EVENTOS_CANTIDAD] AS [e] ON [u].[USU_ID] = [e].[EVT_CAN_USU_ID]
LEFT JOIN [ADMINISTRADOR_EVENTO] AS [a] ON [u].[USU_ID] = [a].[ADMINEVENT_USER_ID]
WHERE (([u].[USU_ID] = @__ToInt32_0) AND ([u].[USU_NICK] = @__request_TokenModel_Username_1)) AND ([u].[USU_CORREO] = @__request_TokenModel_Email_2)
ORDER BY [u].[USU_ID], [e].[EVT_CAN_ID], [a].[ADMINEVENT_ID]
[20:50:06][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (1ms) [Parameters=[@__userCurrent_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EVT_ID], [e].[EVT_CATEGORIA], [e].[EVT_CODIGO_EVENTO], [e].[EVT_DESCRIPCION], [e].[EVT_ID_USUARIO_CREADOR], [e].[EVT_FOTO], [e].[EVT_ESTADO], [e].[EVT_BORRADO], [e].[EVT_MAX_PERSONAS], [e].[EVT_NOMBRE], [e].[EVT_NUM_MAX_CANDIDATOS], [e].[EVT_NUM_MAX_PERSONAS]
FROM [EVENTOS] AS [e]
WHERE ([e].[EVT_ID_USUARIO_CREADOR] = @__userCurrent_Id_0) AND ([e].[EVT_BORRADO] <> CAST(1 AS bit))
[20:50:06][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Executed action Dach.ElectionSystem.WebApi.Controllers.EventController.CreateEvent (Dach.ElectionSystem.WebApi) in 92.3658ms
[20:50:06][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executed endpoint 'Dach.ElectionSystem.WebApi.Controllers.EventController.CreateEvent (Dach.ElectionSystem.WebApi)'
[20:50:07][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 POST http://localhost:44317/api/events application/json 229 - 400 - application/json 259.6659ms
[20:51:11][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 GET http://localhost:44317/api/events?OrderBy=Desc&Offset=0&Limit=4 - -
[20:51:11][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Controllers.EventController.GetHandler (Dach.ElectionSystem.WebApi)'
[20:51:11][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "GetHandler", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHandler(Dach.ElectionSystem.Models.Request.Event.EventGetRequest, System.Nullable`1[System.Int32]) on controller Dach.ElectionSystem.WebApi.Controllers.EventController (Dach.ElectionSystem.WebApi).
[20:51:11][INF][Microsoft.EntityFrameworkCore.Infrastructure]:Entity Framework Core 5.0.4 initialized 'WebApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[20:51:11][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (1ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32), @__request_TokenModel_Username_1='?' (Size = 4000), @__request_TokenModel_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK], [e].[EVT_CAN_ID], [e].[EVT_CAN_USU_ID], [e].[EVT_CAN_NUMERO_EVENTO], [a].[ADMINEVENT_ID], [a].[ADMINEVENT_FECHA], [a].[ADMINEVENT_EVENT_ID], [a].[ADMINEVENT_USER_ID], [a].[ADMINEVENT_PRVILEGIOS], [a].[ADMINEVENT_ESTADO]
FROM [USUARIOS] AS [u]
LEFT JOIN [EVENTOS_CANTIDAD] AS [e] ON [u].[USU_ID] = [e].[EVT_CAN_USU_ID]
LEFT JOIN [ADMINISTRADOR_EVENTO] AS [a] ON [u].[USU_ID] = [a].[ADMINEVENT_USER_ID]
WHERE (([u].[USU_ID] = @__ToInt32_0) AND ([u].[USU_NICK] = @__request_TokenModel_Username_1)) AND ([u].[USU_CORREO] = @__request_TokenModel_Email_2)
ORDER BY [u].[USU_ID], [e].[EVT_CAN_ID], [a].[ADMINEVENT_ID]
[20:51:11][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EVT_ID], [e].[EVT_CATEGORIA], [e].[EVT_CODIGO_EVENTO], [e].[EVT_DESCRIPCION], [e].[EVT_ID_USUARIO_CREADOR], [e].[EVT_FOTO], [e].[EVT_ESTADO], [e].[EVT_BORRADO], [e].[EVT_MAX_PERSONAS], [e].[EVT_NOMBRE], [e].[EVT_NUM_MAX_CANDIDATOS], [e].[EVT_NUM_MAX_PERSONAS]
FROM [EVENTOS] AS [e]
[20:51:11][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor]:Executing OkObjectResult, writing value of type 'Dach.ElectionSystem.Models.ResponseBase.GenericResponse`1[[Dach.ElectionSystem.Models.Response.Event.EventGetResponse, Dach.ElectionSystem.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[20:51:11][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Executed action Dach.ElectionSystem.WebApi.Controllers.EventController.GetHandler (Dach.ElectionSystem.WebApi) in 43.7714ms
[20:51:11][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executed endpoint 'Dach.ElectionSystem.WebApi.Controllers.EventController.GetHandler (Dach.ElectionSystem.WebApi)'
[20:51:11][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 GET http://localhost:44317/api/events?OrderBy=Desc&Offset=0&Limit=4 - - - 200 - application/json;+charset=utf-8 57.9801ms
[20:51:36][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST http://localhost:44317/api/events/2/candidates application/json 183
[20:51:36][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Controllers.CandidateController.CreateCandidate (Dach.ElectionSystem.WebApi)'
[20:51:36][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "CreateCandidate", controller = "Candidate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCandidate(Dach.ElectionSystem.Models.Request.Candidate.CandidateCreateRequest, Int32) on controller Dach.ElectionSystem.WebApi.Controllers.CandidateController (Dach.ElectionSystem.WebApi).
[20:51:36][INF][Microsoft.EntityFrameworkCore.Infrastructure]:Entity Framework Core 5.0.4 initialized 'WebApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[20:51:36][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (1ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32), @__request_TokenModel_Username_1='?' (Size = 4000), @__request_TokenModel_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK], [e].[EVT_CAN_ID], [e].[EVT_CAN_USU_ID], [e].[EVT_CAN_NUMERO_EVENTO], [a].[ADMINEVENT_ID], [a].[ADMINEVENT_FECHA], [a].[ADMINEVENT_EVENT_ID], [a].[ADMINEVENT_USER_ID], [a].[ADMINEVENT_PRVILEGIOS], [a].[ADMINEVENT_ESTADO]
FROM [USUARIOS] AS [u]
LEFT JOIN [EVENTOS_CANTIDAD] AS [e] ON [u].[USU_ID] = [e].[EVT_CAN_USU_ID]
LEFT JOIN [ADMINISTRADOR_EVENTO] AS [a] ON [u].[USU_ID] = [a].[ADMINEVENT_USER_ID]
WHERE (([u].[USU_ID] = @__ToInt32_0) AND ([u].[USU_NICK] = @__request_TokenModel_Username_1)) AND ([u].[USU_CORREO] = @__request_TokenModel_Email_2)
ORDER BY [u].[USU_ID], [e].[EVT_CAN_ID], [a].[ADMINEVENT_ID]
[20:51:44][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EVT_ID], [e].[EVT_CATEGORIA], [e].[EVT_CODIGO_EVENTO], [e].[EVT_DESCRIPCION], [e].[EVT_ID_USUARIO_CREADOR], [e].[EVT_FOTO], [e].[EVT_ESTADO], [e].[EVT_BORRADO], [e].[EVT_MAX_PERSONAS], [e].[EVT_NOMBRE], [e].[EVT_NUM_MAX_CANDIDATOS], [e].[EVT_NUM_MAX_PERSONAS], [c].[CAN_IDS], [c].[CAN_EDAD], [c].[CAN_DETALLES], [c].[CAN_EVT_ID], [c].[CAN_USU_ID], [c].[CAN_IMAGEN], [c].[CAN_ESTADO], [c].[CAN_PUESTOS_LABORALES], [c].[CAN_PROPUESTA], [c].[CAN_ROL], [c].[CAN_VIDEO]
FROM [EVENTOS] AS [e]
LEFT JOIN [CANDIDATOS] AS [c] ON [e].[EVT_ID] = [c].[CAN_EVT_ID]
WHERE [e].[EVT_ID] = @__id_0
ORDER BY [e].[EVT_ID], [c].[CAN_IDS]
[20:51:44][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (2ms) [Parameters=[@__idUser_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK]
FROM [USUARIOS] AS [u]
WHERE [u].[USU_ID] = @__idUser_0
[20:51:44][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CANDIDATOS] ([CAN_EDAD], [CAN_DETALLES], [CAN_EVT_ID], [CAN_USU_ID], [CAN_IMAGEN], [CAN_ESTADO], [CAN_PUESTOS_LABORALES], [CAN_PROPUESTA], [CAN_ROL], [CAN_VIDEO])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [CAN_IDS]
FROM [CANDIDATOS]
WHERE @@ROWCOUNT = 1 AND [CAN_IDS] = scope_identity();
[20:51:44][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor]:Executing OkObjectResult, writing value of type 'Dach.ElectionSystem.Models.ResponseBase.GenericResponse`1[[Dach.ElectionSystem.Models.Response.Candidate.CandidateCreateResponse, Dach.ElectionSystem.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[20:51:44][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Executed action Dach.ElectionSystem.WebApi.Controllers.CandidateController.CreateCandidate (Dach.ElectionSystem.WebApi) in 7151.9029ms
[20:51:44][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executed endpoint 'Dach.ElectionSystem.WebApi.Controllers.CandidateController.CreateCandidate (Dach.ElectionSystem.WebApi)'
[20:51:44][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 POST http://localhost:44317/api/events/2/candidates application/json 183 - 200 - application/json;+charset=utf-8 7155.6402ms
[20:52:03][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST http://localhost:44317/api/events/2/candidates application/json 183
[20:52:03][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Controllers.CandidateController.CreateCandidate (Dach.ElectionSystem.WebApi)'
[20:52:03][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "CreateCandidate", controller = "Candidate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCandidate(Dach.ElectionSystem.Models.Request.Candidate.CandidateCreateRequest, Int32) on controller Dach.ElectionSystem.WebApi.Controllers.CandidateController (Dach.ElectionSystem.WebApi).
[20:52:03][INF][Microsoft.EntityFrameworkCore.Infrastructure]:Entity Framework Core 5.0.4 initialized 'WebApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[20:52:03][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (1ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32), @__request_TokenModel_Username_1='?' (Size = 4000), @__request_TokenModel_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK], [e].[EVT_CAN_ID], [e].[EVT_CAN_USU_ID], [e].[EVT_CAN_NUMERO_EVENTO], [a].[ADMINEVENT_ID], [a].[ADMINEVENT_FECHA], [a].[ADMINEVENT_EVENT_ID], [a].[ADMINEVENT_USER_ID], [a].[ADMINEVENT_PRVILEGIOS], [a].[ADMINEVENT_ESTADO]
FROM [USUARIOS] AS [u]
LEFT JOIN [EVENTOS_CANTIDAD] AS [e] ON [u].[USU_ID] = [e].[EVT_CAN_USU_ID]
LEFT JOIN [ADMINISTRADOR_EVENTO] AS [a] ON [u].[USU_ID] = [a].[ADMINEVENT_USER_ID]
WHERE (([u].[USU_ID] = @__ToInt32_0) AND ([u].[USU_NICK] = @__request_TokenModel_Username_1)) AND ([u].[USU_CORREO] = @__request_TokenModel_Email_2)
ORDER BY [u].[USU_ID], [e].[EVT_CAN_ID], [a].[ADMINEVENT_ID]
[20:52:03][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EVT_ID], [e].[EVT_CATEGORIA], [e].[EVT_CODIGO_EVENTO], [e].[EVT_DESCRIPCION], [e].[EVT_ID_USUARIO_CREADOR], [e].[EVT_FOTO], [e].[EVT_ESTADO], [e].[EVT_BORRADO], [e].[EVT_MAX_PERSONAS], [e].[EVT_NOMBRE], [e].[EVT_NUM_MAX_CANDIDATOS], [e].[EVT_NUM_MAX_PERSONAS], [c].[CAN_IDS], [c].[CAN_EDAD], [c].[CAN_DETALLES], [c].[CAN_EVT_ID], [c].[CAN_USU_ID], [c].[CAN_IMAGEN], [c].[CAN_ESTADO], [c].[CAN_PUESTOS_LABORALES], [c].[CAN_PROPUESTA], [c].[CAN_ROL], [c].[CAN_VIDEO]
FROM [EVENTOS] AS [e]
LEFT JOIN [CANDIDATOS] AS [c] ON [e].[EVT_ID] = [c].[CAN_EVT_ID]
WHERE [e].[EVT_ID] = @__id_0
ORDER BY [e].[EVT_ID], [c].[CAN_IDS]
[20:52:03][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (1ms) [Parameters=[@__idUser_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK]
FROM [USUARIOS] AS [u]
WHERE [u].[USU_ID] = @__idUser_0
[20:52:03][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Executed action Dach.ElectionSystem.WebApi.Controllers.CandidateController.CreateCandidate (Dach.ElectionSystem.WebApi) in 93.8909ms
[20:52:03][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executed endpoint 'Dach.ElectionSystem.WebApi.Controllers.CandidateController.CreateCandidate (Dach.ElectionSystem.WebApi)'
[20:52:03][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 POST http://localhost:44317/api/events/2/candidates application/json 183 - 404 - application/json 256.7722ms
[20:52:27][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST http://localhost:44317/api/votes/events/2/users/5 application/json 10
[20:52:27][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Controllers.VoteController.CreateVote (Dach.ElectionSystem.WebApi)'
[20:52:27][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "CreateVote", controller = "Vote"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVote(Dach.ElectionSystem.Models.Request.Vote.VoteCreateRequest, Int32, Int32) on controller Dach.ElectionSystem.WebApi.Controllers.VoteController (Dach.ElectionSystem.WebApi).
[20:52:27][INF][Microsoft.EntityFrameworkCore.Infrastructure]:Entity Framework Core 5.0.4 initialized 'WebApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[20:52:27][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (2ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32), @__request_TokenModel_Username_1='?' (Size = 4000), @__request_TokenModel_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK], [e].[EVT_CAN_ID], [e].[EVT_CAN_USU_ID], [e].[EVT_CAN_NUMERO_EVENTO], [a].[ADMINEVENT_ID], [a].[ADMINEVENT_FECHA], [a].[ADMINEVENT_EVENT_ID], [a].[ADMINEVENT_USER_ID], [a].[ADMINEVENT_PRVILEGIOS], [a].[ADMINEVENT_ESTADO]
FROM [USUARIOS] AS [u]
LEFT JOIN [EVENTOS_CANTIDAD] AS [e] ON [u].[USU_ID] = [e].[EVT_CAN_USU_ID]
LEFT JOIN [ADMINISTRADOR_EVENTO] AS [a] ON [u].[USU_ID] = [a].[ADMINEVENT_USER_ID]
WHERE (([u].[USU_ID] = @__ToInt32_0) AND ([u].[USU_NICK] = @__request_TokenModel_Username_1)) AND ([u].[USU_CORREO] = @__request_TokenModel_Email_2)
ORDER BY [u].[USU_ID], [e].[EVT_CAN_ID], [a].[ADMINEVENT_ID]
[20:52:27][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (1ms) [Parameters=[@__idUser_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK]
FROM [USUARIOS] AS [u]
WHERE [u].[USU_ID] = @__idUser_0
[20:52:27][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EVT_ID], [e].[EVT_CATEGORIA], [e].[EVT_CODIGO_EVENTO], [e].[EVT_DESCRIPCION], [e].[EVT_ID_USUARIO_CREADOR], [e].[EVT_FOTO], [e].[EVT_ESTADO], [e].[EVT_BORRADO], [e].[EVT_MAX_PERSONAS], [e].[EVT_NOMBRE], [e].[EVT_NUM_MAX_CANDIDATOS], [e].[EVT_NUM_MAX_PERSONAS], [c].[CAN_IDS], [c].[CAN_EDAD], [c].[CAN_DETALLES], [c].[CAN_EVT_ID], [c].[CAN_USU_ID], [c].[CAN_IMAGEN], [c].[CAN_ESTADO], [c].[CAN_PUESTOS_LABORALES], [c].[CAN_PROPUESTA], [c].[CAN_ROL], [c].[CAN_VIDEO]
FROM [EVENTOS] AS [e]
LEFT JOIN [CANDIDATOS] AS [c] ON [e].[EVT_ID] = [c].[CAN_EVT_ID]
WHERE [e].[EVT_ID] = @__id_0
ORDER BY [e].[EVT_ID], [c].[CAN_IDS]
[20:52:27][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (1ms) [Parameters=[@__request_IdEvent_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VTO_ID], [v].[VTO_FECHA_INSCRIPCION], [v].[VTO_FECHA_VOTACION], [v].[VTO_REGISTRO], [v].[VTO_CAN_ID], [v].[VTO_EVT_ID], [v].[VTO_USU_ID], [v].[VTO_ESTADO]
FROM [VOTOS] AS [v]
WHERE [v].[VTO_EVT_ID] = @__request_IdEvent_0
[20:52:27][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [VOTOS] ([VTO_FECHA_INSCRIPCION], [VTO_FECHA_VOTACION], [VTO_REGISTRO], [VTO_CAN_ID], [VTO_EVT_ID], [VTO_USU_ID], [VTO_ESTADO])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [VTO_ID]
FROM [VOTOS]
WHERE @@ROWCOUNT = 1 AND [VTO_ID] = scope_identity();
[20:52:27][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor]:Executing OkObjectResult, writing value of type 'Dach.ElectionSystem.Models.ResponseBase.GenericResponse`1[[Dach.ElectionSystem.Models.Response.Vote.VoteCreateResponse, Dach.ElectionSystem.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[20:52:27][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Executed action Dach.ElectionSystem.WebApi.Controllers.VoteController.CreateVote (Dach.ElectionSystem.WebApi) in 47.09ms
[20:52:27][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executed endpoint 'Dach.ElectionSystem.WebApi.Controllers.VoteController.CreateVote (Dach.ElectionSystem.WebApi)'
[20:52:27][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 POST http://localhost:44317/api/votes/events/2/users/5 application/json 10 - 200 - application/json;+charset=utf-8 52.2252ms
[20:52:34][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST http://localhost:44317/api/votes/events/2/users/5 application/json 10
[20:52:34][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Controllers.VoteController.CreateVote (Dach.ElectionSystem.WebApi)'
[20:52:34][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "CreateVote", controller = "Vote"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVote(Dach.ElectionSystem.Models.Request.Vote.VoteCreateRequest, Int32, Int32) on controller Dach.ElectionSystem.WebApi.Controllers.VoteController (Dach.ElectionSystem.WebApi).
[20:52:34][INF][Microsoft.EntityFrameworkCore.Infrastructure]:Entity Framework Core 5.0.4 initialized 'WebApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[20:52:34][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (1ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32), @__request_TokenModel_Username_1='?' (Size = 4000), @__request_TokenModel_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK], [e].[EVT_CAN_ID], [e].[EVT_CAN_USU_ID], [e].[EVT_CAN_NUMERO_EVENTO], [a].[ADMINEVENT_ID], [a].[ADMINEVENT_FECHA], [a].[ADMINEVENT_EVENT_ID], [a].[ADMINEVENT_USER_ID], [a].[ADMINEVENT_PRVILEGIOS], [a].[ADMINEVENT_ESTADO]
FROM [USUARIOS] AS [u]
LEFT JOIN [EVENTOS_CANTIDAD] AS [e] ON [u].[USU_ID] = [e].[EVT_CAN_USU_ID]
LEFT JOIN [ADMINISTRADOR_EVENTO] AS [a] ON [u].[USU_ID] = [a].[ADMINEVENT_USER_ID]
WHERE (([u].[USU_ID] = @__ToInt32_0) AND ([u].[USU_NICK] = @__request_TokenModel_Username_1)) AND ([u].[USU_CORREO] = @__request_TokenModel_Email_2)
ORDER BY [u].[USU_ID], [e].[EVT_CAN_ID], [a].[ADMINEVENT_ID]
[20:52:34][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (6ms) [Parameters=[@__idUser_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK]
FROM [USUARIOS] AS [u]
WHERE [u].[USU_ID] = @__idUser_0
[20:52:34][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EVT_ID], [e].[EVT_CATEGORIA], [e].[EVT_CODIGO_EVENTO], [e].[EVT_DESCRIPCION], [e].[EVT_ID_USUARIO_CREADOR], [e].[EVT_FOTO], [e].[EVT_ESTADO], [e].[EVT_BORRADO], [e].[EVT_MAX_PERSONAS], [e].[EVT_NOMBRE], [e].[EVT_NUM_MAX_CANDIDATOS], [e].[EVT_NUM_MAX_PERSONAS], [c].[CAN_IDS], [c].[CAN_EDAD], [c].[CAN_DETALLES], [c].[CAN_EVT_ID], [c].[CAN_USU_ID], [c].[CAN_IMAGEN], [c].[CAN_ESTADO], [c].[CAN_PUESTOS_LABORALES], [c].[CAN_PROPUESTA], [c].[CAN_ROL], [c].[CAN_VIDEO]
FROM [EVENTOS] AS [e]
LEFT JOIN [CANDIDATOS] AS [c] ON [e].[EVT_ID] = [c].[CAN_EVT_ID]
WHERE [e].[EVT_ID] = @__id_0
ORDER BY [e].[EVT_ID], [c].[CAN_IDS]
[20:52:34][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (1ms) [Parameters=[@__request_IdEvent_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VTO_ID], [v].[VTO_FECHA_INSCRIPCION], [v].[VTO_FECHA_VOTACION], [v].[VTO_REGISTRO], [v].[VTO_CAN_ID], [v].[VTO_EVT_ID], [v].[VTO_USU_ID], [v].[VTO_ESTADO]
FROM [VOTOS] AS [v]
WHERE [v].[VTO_EVT_ID] = @__request_IdEvent_0
[20:52:34][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Executed action Dach.ElectionSystem.WebApi.Controllers.VoteController.CreateVote (Dach.ElectionSystem.WebApi) in 93.5345ms
[20:52:34][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executed endpoint 'Dach.ElectionSystem.WebApi.Controllers.VoteController.CreateVote (Dach.ElectionSystem.WebApi)'
[20:52:34][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 POST http://localhost:44317/api/votes/events/2/users/5 application/json 10 - 400 - application/json 252.4375ms
[20:52:48][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST http://localhost:44317/api/auth/login application/json 70
[20:52:48][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Properties.AuthController.Auth (Dach.ElectionSystem.WebApi)'
[20:52:48][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "Auth", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Auth(Dach.ElectionSystem.Models.Auth.LoginRequest) on controller Dach.ElectionSystem.WebApi.Properties.AuthController (Dach.ElectionSystem.WebApi).
[20:52:48][INF][Microsoft.EntityFrameworkCore.Infrastructure]:Entity Framework Core 5.0.4 initialized 'WebApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[20:52:48][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (1ms) [Parameters=[@__request_Email_0='?' (Size = 4000), @__passwordHash_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK]
FROM [USUARIOS] AS [u]
WHERE ([u].[USU_CORREO] = @__request_Email_0) AND (([u].[USU_PASSWORD] = @__passwordHash_1) OR ([u].[USU_TEM_PASSWORD] = @__passwordHash_1))
[20:52:48][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor]:Executing OkObjectResult, writing value of type 'Dach.ElectionSystem.Models.ResponseBase.GenericResponse`1[[Dach.ElectionSystem.Models.Response.Auth.LoginResponse, Dach.ElectionSystem.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[20:52:48][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Executed action Dach.ElectionSystem.WebApi.Properties.AuthController.Auth (Dach.ElectionSystem.WebApi) in 4.4374ms
[20:52:48][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executed endpoint 'Dach.ElectionSystem.WebApi.Properties.AuthController.Auth (Dach.ElectionSystem.WebApi)'
[20:52:48][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 POST http://localhost:44317/api/auth/login application/json 70 - 200 - application/json;+charset=utf-8 5.7110ms
[20:52:57][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST http://localhost:44317/api/events/2/candidates application/json 183
[20:52:57][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Controllers.CandidateController.CreateCandidate (Dach.ElectionSystem.WebApi)'
[20:52:57][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "CreateCandidate", controller = "Candidate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCandidate(Dach.ElectionSystem.Models.Request.Candidate.CandidateCreateRequest, Int32) on controller Dach.ElectionSystem.WebApi.Controllers.CandidateController (Dach.ElectionSystem.WebApi).
[20:52:57][INF][Microsoft.EntityFrameworkCore.Infrastructure]:Entity Framework Core 5.0.4 initialized 'WebApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[20:52:57][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (1ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32), @__request_TokenModel_Username_1='?' (Size = 4000), @__request_TokenModel_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK], [e].[EVT_CAN_ID], [e].[EVT_CAN_USU_ID], [e].[EVT_CAN_NUMERO_EVENTO], [a].[ADMINEVENT_ID], [a].[ADMINEVENT_FECHA], [a].[ADMINEVENT_EVENT_ID], [a].[ADMINEVENT_USER_ID], [a].[ADMINEVENT_PRVILEGIOS], [a].[ADMINEVENT_ESTADO]
FROM [USUARIOS] AS [u]
LEFT JOIN [EVENTOS_CANTIDAD] AS [e] ON [u].[USU_ID] = [e].[EVT_CAN_USU_ID]
LEFT JOIN [ADMINISTRADOR_EVENTO] AS [a] ON [u].[USU_ID] = [a].[ADMINEVENT_USER_ID]
WHERE (([u].[USU_ID] = @__ToInt32_0) AND ([u].[USU_NICK] = @__request_TokenModel_Username_1)) AND ([u].[USU_CORREO] = @__request_TokenModel_Email_2)
ORDER BY [u].[USU_ID], [e].[EVT_CAN_ID], [a].[ADMINEVENT_ID]
[20:52:57][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EVT_ID], [e].[EVT_CATEGORIA], [e].[EVT_CODIGO_EVENTO], [e].[EVT_DESCRIPCION], [e].[EVT_ID_USUARIO_CREADOR], [e].[EVT_FOTO], [e].[EVT_ESTADO], [e].[EVT_BORRADO], [e].[EVT_MAX_PERSONAS], [e].[EVT_NOMBRE], [e].[EVT_NUM_MAX_CANDIDATOS], [e].[EVT_NUM_MAX_PERSONAS], [c].[CAN_IDS], [c].[CAN_EDAD], [c].[CAN_DETALLES], [c].[CAN_EVT_ID], [c].[CAN_USU_ID], [c].[CAN_IMAGEN], [c].[CAN_ESTADO], [c].[CAN_PUESTOS_LABORALES], [c].[CAN_PROPUESTA], [c].[CAN_ROL], [c].[CAN_VIDEO]
FROM [EVENTOS] AS [e]
LEFT JOIN [CANDIDATOS] AS [c] ON [e].[EVT_ID] = [c].[CAN_EVT_ID]
WHERE [e].[EVT_ID] = @__id_0
ORDER BY [e].[EVT_ID], [c].[CAN_IDS]
[20:52:57][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (1ms) [Parameters=[@__idUser_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK]
FROM [USUARIOS] AS [u]
WHERE [u].[USU_ID] = @__idUser_0
[20:52:57][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Executed action Dach.ElectionSystem.WebApi.Controllers.CandidateController.CreateCandidate (Dach.ElectionSystem.WebApi) in 87.4676ms
[20:52:57][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executed endpoint 'Dach.ElectionSystem.WebApi.Controllers.CandidateController.CreateCandidate (Dach.ElectionSystem.WebApi)'
[20:52:57][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 POST http://localhost:44317/api/events/2/candidates application/json 183 - 409 - application/json 251.4708ms
[20:53:03][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST http://localhost:44317/api/events/2/candidates application/json 183
[20:53:03][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Controllers.CandidateController.CreateCandidate (Dach.ElectionSystem.WebApi)'
[20:53:03][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "CreateCandidate", controller = "Candidate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCandidate(Dach.ElectionSystem.Models.Request.Candidate.CandidateCreateRequest, Int32) on controller Dach.ElectionSystem.WebApi.Controllers.CandidateController (Dach.ElectionSystem.WebApi).
[20:53:03][INF][Microsoft.EntityFrameworkCore.Infrastructure]:Entity Framework Core 5.0.4 initialized 'WebApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[20:53:03][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (18ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32), @__request_TokenModel_Username_1='?' (Size = 4000), @__request_TokenModel_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK], [e].[EVT_CAN_ID], [e].[EVT_CAN_USU_ID], [e].[EVT_CAN_NUMERO_EVENTO], [a].[ADMINEVENT_ID], [a].[ADMINEVENT_FECHA], [a].[ADMINEVENT_EVENT_ID], [a].[ADMINEVENT_USER_ID], [a].[ADMINEVENT_PRVILEGIOS], [a].[ADMINEVENT_ESTADO]
FROM [USUARIOS] AS [u]
LEFT JOIN [EVENTOS_CANTIDAD] AS [e] ON [u].[USU_ID] = [e].[EVT_CAN_USU_ID]
LEFT JOIN [ADMINISTRADOR_EVENTO] AS [a] ON [u].[USU_ID] = [a].[ADMINEVENT_USER_ID]
WHERE (([u].[USU_ID] = @__ToInt32_0) AND ([u].[USU_NICK] = @__request_TokenModel_Username_1)) AND ([u].[USU_CORREO] = @__request_TokenModel_Email_2)
ORDER BY [u].[USU_ID], [e].[EVT_CAN_ID], [a].[ADMINEVENT_ID]
[20:53:03][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EVT_ID], [e].[EVT_CATEGORIA], [e].[EVT_CODIGO_EVENTO], [e].[EVT_DESCRIPCION], [e].[EVT_ID_USUARIO_CREADOR], [e].[EVT_FOTO], [e].[EVT_ESTADO], [e].[EVT_BORRADO], [e].[EVT_MAX_PERSONAS], [e].[EVT_NOMBRE], [e].[EVT_NUM_MAX_CANDIDATOS], [e].[EVT_NUM_MAX_PERSONAS], [c].[CAN_IDS], [c].[CAN_EDAD], [c].[CAN_DETALLES], [c].[CAN_EVT_ID], [c].[CAN_USU_ID], [c].[CAN_IMAGEN], [c].[CAN_ESTADO], [c].[CAN_PUESTOS_LABORALES], [c].[CAN_PROPUESTA], [c].[CAN_ROL], [c].[CAN_VIDEO]
FROM [EVENTOS] AS [e]
LEFT JOIN [CANDIDATOS] AS [c] ON [e].[EVT_ID] = [c].[CAN_EVT_ID]
WHERE [e].[EVT_ID] = @__id_0
ORDER BY [e].[EVT_ID], [c].[CAN_IDS]
[20:53:03][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (1ms) [Parameters=[@__idUser_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK]
FROM [USUARIOS] AS [u]
WHERE [u].[USU_ID] = @__idUser_0
[20:53:04][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Executed action Dach.ElectionSystem.WebApi.Controllers.CandidateController.CreateCandidate (Dach.ElectionSystem.WebApi) in 113.0886ms
[20:53:04][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executed endpoint 'Dach.ElectionSystem.WebApi.Controllers.CandidateController.CreateCandidate (Dach.ElectionSystem.WebApi)'
[20:53:04][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 POST http://localhost:44317/api/events/2/candidates application/json 183 - 409 - application/json 272.1213ms
[20:53:04][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST http://localhost:44317/api/events/2/candidates application/json 183
[20:53:04][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Controllers.CandidateController.CreateCandidate (Dach.ElectionSystem.WebApi)'
[20:53:04][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "CreateCandidate", controller = "Candidate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCandidate(Dach.ElectionSystem.Models.Request.Candidate.CandidateCreateRequest, Int32) on controller Dach.ElectionSystem.WebApi.Controllers.CandidateController (Dach.ElectionSystem.WebApi).
[20:53:04][INF][Microsoft.EntityFrameworkCore.Infrastructure]:Entity Framework Core 5.0.4 initialized 'WebApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[20:53:04][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (2ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32), @__request_TokenModel_Username_1='?' (Size = 4000), @__request_TokenModel_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK], [e].[EVT_CAN_ID], [e].[EVT_CAN_USU_ID], [e].[EVT_CAN_NUMERO_EVENTO], [a].[ADMINEVENT_ID], [a].[ADMINEVENT_FECHA], [a].[ADMINEVENT_EVENT_ID], [a].[ADMINEVENT_USER_ID], [a].[ADMINEVENT_PRVILEGIOS], [a].[ADMINEVENT_ESTADO]
FROM [USUARIOS] AS [u]
LEFT JOIN [EVENTOS_CANTIDAD] AS [e] ON [u].[USU_ID] = [e].[EVT_CAN_USU_ID]
LEFT JOIN [ADMINISTRADOR_EVENTO] AS [a] ON [u].[USU_ID] = [a].[ADMINEVENT_USER_ID]
WHERE (([u].[USU_ID] = @__ToInt32_0) AND ([u].[USU_NICK] = @__request_TokenModel_Username_1)) AND ([u].[USU_CORREO] = @__request_TokenModel_Email_2)
ORDER BY [u].[USU_ID], [e].[EVT_CAN_ID], [a].[ADMINEVENT_ID]
[20:53:04][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EVT_ID], [e].[EVT_CATEGORIA], [e].[EVT_CODIGO_EVENTO], [e].[EVT_DESCRIPCION], [e].[EVT_ID_USUARIO_CREADOR], [e].[EVT_FOTO], [e].[EVT_ESTADO], [e].[EVT_BORRADO], [e].[EVT_MAX_PERSONAS], [e].[EVT_NOMBRE], [e].[EVT_NUM_MAX_CANDIDATOS], [e].[EVT_NUM_MAX_PERSONAS], [c].[CAN_IDS], [c].[CAN_EDAD], [c].[CAN_DETALLES], [c].[CAN_EVT_ID], [c].[CAN_USU_ID], [c].[CAN_IMAGEN], [c].[CAN_ESTADO], [c].[CAN_PUESTOS_LABORALES], [c].[CAN_PROPUESTA], [c].[CAN_ROL], [c].[CAN_VIDEO]
FROM [EVENTOS] AS [e]
LEFT JOIN [CANDIDATOS] AS [c] ON [e].[EVT_ID] = [c].[CAN_EVT_ID]
WHERE [e].[EVT_ID] = @__id_0
ORDER BY [e].[EVT_ID], [c].[CAN_IDS]
[20:53:04][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (0ms) [Parameters=[@__idUser_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK]
FROM [USUARIOS] AS [u]
WHERE [u].[USU_ID] = @__idUser_0
[20:53:05][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Executed action Dach.ElectionSystem.WebApi.Controllers.CandidateController.CreateCandidate (Dach.ElectionSystem.WebApi) in 84.7656ms
[20:53:05][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executed endpoint 'Dach.ElectionSystem.WebApi.Controllers.CandidateController.CreateCandidate (Dach.ElectionSystem.WebApi)'
[20:53:05][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 POST http://localhost:44317/api/events/2/candidates application/json 183 - 409 - application/json 246.8704ms
[20:53:07][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST http://localhost:44317/api/votes/events/2/users/5 application/json 10
[20:53:07][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Controllers.VoteController.CreateVote (Dach.ElectionSystem.WebApi)'
[20:53:07][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "CreateVote", controller = "Vote"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVote(Dach.ElectionSystem.Models.Request.Vote.VoteCreateRequest, Int32, Int32) on controller Dach.ElectionSystem.WebApi.Controllers.VoteController (Dach.ElectionSystem.WebApi).
[20:53:07][INF][Microsoft.EntityFrameworkCore.Infrastructure]:Entity Framework Core 5.0.4 initialized 'WebApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[20:53:07][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (2ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32), @__request_TokenModel_Username_1='?' (Size = 4000), @__request_TokenModel_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK], [e].[EVT_CAN_ID], [e].[EVT_CAN_USU_ID], [e].[EVT_CAN_NUMERO_EVENTO], [a].[ADMINEVENT_ID], [a].[ADMINEVENT_FECHA], [a].[ADMINEVENT_EVENT_ID], [a].[ADMINEVENT_USER_ID], [a].[ADMINEVENT_PRVILEGIOS], [a].[ADMINEVENT_ESTADO]
FROM [USUARIOS] AS [u]
LEFT JOIN [EVENTOS_CANTIDAD] AS [e] ON [u].[USU_ID] = [e].[EVT_CAN_USU_ID]
LEFT JOIN [ADMINISTRADOR_EVENTO] AS [a] ON [u].[USU_ID] = [a].[ADMINEVENT_USER_ID]
WHERE (([u].[USU_ID] = @__ToInt32_0) AND ([u].[USU_NICK] = @__request_TokenModel_Username_1)) AND ([u].[USU_CORREO] = @__request_TokenModel_Email_2)
ORDER BY [u].[USU_ID], [e].[EVT_CAN_ID], [a].[ADMINEVENT_ID]
[20:53:07][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (2ms) [Parameters=[@__idUser_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK]
FROM [USUARIOS] AS [u]
WHERE [u].[USU_ID] = @__idUser_0
[20:53:07][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EVT_ID], [e].[EVT_CATEGORIA], [e].[EVT_CODIGO_EVENTO], [e].[EVT_DESCRIPCION], [e].[EVT_ID_USUARIO_CREADOR], [e].[EVT_FOTO], [e].[EVT_ESTADO], [e].[EVT_BORRADO], [e].[EVT_MAX_PERSONAS], [e].[EVT_NOMBRE], [e].[EVT_NUM_MAX_CANDIDATOS], [e].[EVT_NUM_MAX_PERSONAS], [c].[CAN_IDS], [c].[CAN_EDAD], [c].[CAN_DETALLES], [c].[CAN_EVT_ID], [c].[CAN_USU_ID], [c].[CAN_IMAGEN], [c].[CAN_ESTADO], [c].[CAN_PUESTOS_LABORALES], [c].[CAN_PROPUESTA], [c].[CAN_ROL], [c].[CAN_VIDEO]
FROM [EVENTOS] AS [e]
LEFT JOIN [CANDIDATOS] AS [c] ON [e].[EVT_ID] = [c].[CAN_EVT_ID]
WHERE [e].[EVT_ID] = @__id_0
ORDER BY [e].[EVT_ID], [c].[CAN_IDS]
[20:53:07][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (0ms) [Parameters=[@__request_IdEvent_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VTO_ID], [v].[VTO_FECHA_INSCRIPCION], [v].[VTO_FECHA_VOTACION], [v].[VTO_REGISTRO], [v].[VTO_CAN_ID], [v].[VTO_EVT_ID], [v].[VTO_USU_ID], [v].[VTO_ESTADO]
FROM [VOTOS] AS [v]
WHERE [v].[VTO_EVT_ID] = @__request_IdEvent_0
[20:53:07][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Executed action Dach.ElectionSystem.WebApi.Controllers.VoteController.CreateVote (Dach.ElectionSystem.WebApi) in 86.5986ms
[20:53:07][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executed endpoint 'Dach.ElectionSystem.WebApi.Controllers.VoteController.CreateVote (Dach.ElectionSystem.WebApi)'
[20:53:08][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 POST http://localhost:44317/api/votes/events/2/users/5 application/json 10 - 400 - application/json 231.2565ms
[20:53:09][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST http://localhost:44317/api/votes/events/2/users/5 application/json 10
[20:53:09][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Controllers.VoteController.CreateVote (Dach.ElectionSystem.WebApi)'
[20:53:09][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "CreateVote", controller = "Vote"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVote(Dach.ElectionSystem.Models.Request.Vote.VoteCreateRequest, Int32, Int32) on controller Dach.ElectionSystem.WebApi.Controllers.VoteController (Dach.ElectionSystem.WebApi).
[20:53:09][INF][Microsoft.EntityFrameworkCore.Infrastructure]:Entity Framework Core 5.0.4 initialized 'WebApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[20:53:09][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (1ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32), @__request_TokenModel_Username_1='?' (Size = 4000), @__request_TokenModel_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK], [e].[EVT_CAN_ID], [e].[EVT_CAN_USU_ID], [e].[EVT_CAN_NUMERO_EVENTO], [a].[ADMINEVENT_ID], [a].[ADMINEVENT_FECHA], [a].[ADMINEVENT_EVENT_ID], [a].[ADMINEVENT_USER_ID], [a].[ADMINEVENT_PRVILEGIOS], [a].[ADMINEVENT_ESTADO]
FROM [USUARIOS] AS [u]
LEFT JOIN [EVENTOS_CANTIDAD] AS [e] ON [u].[USU_ID] = [e].[EVT_CAN_USU_ID]
LEFT JOIN [ADMINISTRADOR_EVENTO] AS [a] ON [u].[USU_ID] = [a].[ADMINEVENT_USER_ID]
WHERE (([u].[USU_ID] = @__ToInt32_0) AND ([u].[USU_NICK] = @__request_TokenModel_Username_1)) AND ([u].[USU_CORREO] = @__request_TokenModel_Email_2)
ORDER BY [u].[USU_ID], [e].[EVT_CAN_ID], [a].[ADMINEVENT_ID]
[20:53:09][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (1ms) [Parameters=[@__idUser_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK]
FROM [USUARIOS] AS [u]
WHERE [u].[USU_ID] = @__idUser_0
[20:53:09][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EVT_ID], [e].[EVT_CATEGORIA], [e].[EVT_CODIGO_EVENTO], [e].[EVT_DESCRIPCION], [e].[EVT_ID_USUARIO_CREADOR], [e].[EVT_FOTO], [e].[EVT_ESTADO], [e].[EVT_BORRADO], [e].[EVT_MAX_PERSONAS], [e].[EVT_NOMBRE], [e].[EVT_NUM_MAX_CANDIDATOS], [e].[EVT_NUM_MAX_PERSONAS], [c].[CAN_IDS], [c].[CAN_EDAD], [c].[CAN_DETALLES], [c].[CAN_EVT_ID], [c].[CAN_USU_ID], [c].[CAN_IMAGEN], [c].[CAN_ESTADO], [c].[CAN_PUESTOS_LABORALES], [c].[CAN_PROPUESTA], [c].[CAN_ROL], [c].[CAN_VIDEO]
FROM [EVENTOS] AS [e]
LEFT JOIN [CANDIDATOS] AS [c] ON [e].[EVT_ID] = [c].[CAN_EVT_ID]
WHERE [e].[EVT_ID] = @__id_0
ORDER BY [e].[EVT_ID], [c].[CAN_IDS]
[20:53:09][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (0ms) [Parameters=[@__request_IdEvent_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VTO_ID], [v].[VTO_FECHA_INSCRIPCION], [v].[VTO_FECHA_VOTACION], [v].[VTO_REGISTRO], [v].[VTO_CAN_ID], [v].[VTO_EVT_ID], [v].[VTO_USU_ID], [v].[VTO_ESTADO]
FROM [VOTOS] AS [v]
WHERE [v].[VTO_EVT_ID] = @__request_IdEvent_0
[20:53:09][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Executed action Dach.ElectionSystem.WebApi.Controllers.VoteController.CreateVote (Dach.ElectionSystem.WebApi) in 76.6409ms
[20:53:09][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executed endpoint 'Dach.ElectionSystem.WebApi.Controllers.VoteController.CreateVote (Dach.ElectionSystem.WebApi)'
[20:53:09][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 POST http://localhost:44317/api/votes/events/2/users/5 application/json 10 - 400 - application/json 223.1408ms
[20:53:13][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST http://localhost:44317/api/votes/events/2/users/6 application/json 10
[20:53:13][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Controllers.VoteController.CreateVote (Dach.ElectionSystem.WebApi)'
[20:53:13][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "CreateVote", controller = "Vote"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVote(Dach.ElectionSystem.Models.Request.Vote.VoteCreateRequest, Int32, Int32) on controller Dach.ElectionSystem.WebApi.Controllers.VoteController (Dach.ElectionSystem.WebApi).
[20:53:13][INF][Microsoft.EntityFrameworkCore.Infrastructure]:Entity Framework Core 5.0.4 initialized 'WebApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[20:53:13][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (1ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32), @__request_TokenModel_Username_1='?' (Size = 4000), @__request_TokenModel_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK], [e].[EVT_CAN_ID], [e].[EVT_CAN_USU_ID], [e].[EVT_CAN_NUMERO_EVENTO], [a].[ADMINEVENT_ID], [a].[ADMINEVENT_FECHA], [a].[ADMINEVENT_EVENT_ID], [a].[ADMINEVENT_USER_ID], [a].[ADMINEVENT_PRVILEGIOS], [a].[ADMINEVENT_ESTADO]
FROM [USUARIOS] AS [u]
LEFT JOIN [EVENTOS_CANTIDAD] AS [e] ON [u].[USU_ID] = [e].[EVT_CAN_USU_ID]
LEFT JOIN [ADMINISTRADOR_EVENTO] AS [a] ON [u].[USU_ID] = [a].[ADMINEVENT_USER_ID]
WHERE (([u].[USU_ID] = @__ToInt32_0) AND ([u].[USU_NICK] = @__request_TokenModel_Username_1)) AND ([u].[USU_CORREO] = @__request_TokenModel_Email_2)
ORDER BY [u].[USU_ID], [e].[EVT_CAN_ID], [a].[ADMINEVENT_ID]
[20:53:13][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (1ms) [Parameters=[@__idUser_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK]
FROM [USUARIOS] AS [u]
WHERE [u].[USU_ID] = @__idUser_0
[20:53:13][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EVT_ID], [e].[EVT_CATEGORIA], [e].[EVT_CODIGO_EVENTO], [e].[EVT_DESCRIPCION], [e].[EVT_ID_USUARIO_CREADOR], [e].[EVT_FOTO], [e].[EVT_ESTADO], [e].[EVT_BORRADO], [e].[EVT_MAX_PERSONAS], [e].[EVT_NOMBRE], [e].[EVT_NUM_MAX_CANDIDATOS], [e].[EVT_NUM_MAX_PERSONAS], [c].[CAN_IDS], [c].[CAN_EDAD], [c].[CAN_DETALLES], [c].[CAN_EVT_ID], [c].[CAN_USU_ID], [c].[CAN_IMAGEN], [c].[CAN_ESTADO], [c].[CAN_PUESTOS_LABORALES], [c].[CAN_PROPUESTA], [c].[CAN_ROL], [c].[CAN_VIDEO]
FROM [EVENTOS] AS [e]
LEFT JOIN [CANDIDATOS] AS [c] ON [e].[EVT_ID] = [c].[CAN_EVT_ID]
WHERE [e].[EVT_ID] = @__id_0
ORDER BY [e].[EVT_ID], [c].[CAN_IDS]
[20:53:13][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (1ms) [Parameters=[@__request_IdEvent_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VTO_ID], [v].[VTO_FECHA_INSCRIPCION], [v].[VTO_FECHA_VOTACION], [v].[VTO_REGISTRO], [v].[VTO_CAN_ID], [v].[VTO_EVT_ID], [v].[VTO_USU_ID], [v].[VTO_ESTADO]
FROM [VOTOS] AS [v]
WHERE [v].[VTO_EVT_ID] = @__request_IdEvent_0
[20:53:13][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Executed action Dach.ElectionSystem.WebApi.Controllers.VoteController.CreateVote (Dach.ElectionSystem.WebApi) in 79.7154ms
[20:53:13][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executed endpoint 'Dach.ElectionSystem.WebApi.Controllers.VoteController.CreateVote (Dach.ElectionSystem.WebApi)'
[20:53:13][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 POST http://localhost:44317/api/votes/events/2/users/6 application/json 10 - 400 - application/json 219.7197ms
[22:04:51][INF][Microsoft.Hosting.Lifetime]:Now listening on: http://localhost:44317
[22:04:51][INF][Microsoft.Hosting.Lifetime]:Application started. Press Ctrl+C to shut down.
[22:04:51][INF][Microsoft.Hosting.Lifetime]:Hosting environment: Development
[22:04:51][INF][Microsoft.Hosting.Lifetime]:Content root path: C:\Users\wwwda\source\repos\ElectionSystem\Dach.ElectionSystem.WebApi
[22:04:51][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 GET http://localhost:44317/swagger/index.html - -
[22:04:51][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 GET http://localhost:44317/swagger/index.html - - - 200 - text/html;charset=utf-8 141.2168ms
[22:04:52][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 GET http://localhost:44317/swagger/v1/swagger.json - -
[22:04:53][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 GET http://localhost:44317/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 374.2241ms
[22:06:34][INF][Microsoft.Hosting.Lifetime]:Now listening on: http://localhost:44317
[22:06:34][INF][Microsoft.Hosting.Lifetime]:Application started. Press Ctrl+C to shut down.
[22:06:34][INF][Microsoft.Hosting.Lifetime]:Hosting environment: Development
[22:06:34][INF][Microsoft.Hosting.Lifetime]:Content root path: C:\Users\wwwda\source\repos\ElectionSystem\Dach.ElectionSystem.WebApi
[22:06:34][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 GET http://localhost:44317/swagger/index.html - -
[22:06:34][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 GET http://localhost:44317/swagger/index.html - - - 200 - text/html;charset=utf-8 125.3961ms
[22:06:35][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 GET http://localhost:44317/swagger/v1/swagger.json - -
[22:06:35][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 GET http://localhost:44317/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 436.1567ms
[22:06:43][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST http://localhost:44317/api/auth/login application/json 70
[22:06:43][WRN][Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware]:Failed to determine the https port for redirect.
[22:06:43][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Properties.AuthController.Auth (Dach.ElectionSystem.WebApi)'
[22:06:43][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "Auth", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Auth(Dach.ElectionSystem.Models.Auth.LoginRequest) on controller Dach.ElectionSystem.WebApi.Properties.AuthController (Dach.ElectionSystem.WebApi).
[22:06:44][INF][Microsoft.EntityFrameworkCore.Infrastructure]:Entity Framework Core 5.0.4 initialized 'WebApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[22:06:45][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (43ms) [Parameters=[@__request_Email_0='?' (Size = 4000), @__passwordHash_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK]
FROM [USUARIOS] AS [u]
WHERE ([u].[USU_CORREO] = @__request_Email_0) AND (([u].[USU_PASSWORD] = @__passwordHash_1) OR ([u].[USU_TEM_PASSWORD] = @__passwordHash_1))
[22:06:45][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor]:Executing OkObjectResult, writing value of type 'Dach.ElectionSystem.Models.ResponseBase.GenericResponse`1[[Dach.ElectionSystem.Models.Response.Auth.LoginResponse, Dach.ElectionSystem.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[22:06:45][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Executed action Dach.ElectionSystem.WebApi.Properties.AuthController.Auth (Dach.ElectionSystem.WebApi) in 1498.6066ms
[22:06:45][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executed endpoint 'Dach.ElectionSystem.WebApi.Properties.AuthController.Auth (Dach.ElectionSystem.WebApi)'
[22:06:45][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 POST http://localhost:44317/api/auth/login application/json 70 - 200 - application/json;+charset=utf-8 1583.0938ms
[22:08:10][INF][Microsoft.Hosting.Lifetime]:Now listening on: http://localhost:44317
[22:08:10][INF][Microsoft.Hosting.Lifetime]:Application started. Press Ctrl+C to shut down.
[22:08:10][INF][Microsoft.Hosting.Lifetime]:Hosting environment: Development
[22:08:10][INF][Microsoft.Hosting.Lifetime]:Content root path: C:\Users\wwwda\source\repos\ElectionSystem\Dach.ElectionSystem.WebApi
[22:08:11][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 GET http://localhost:44317/swagger/index.html - -
[22:08:11][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 GET http://localhost:44317/swagger/index.html - - - 200 - text/html;charset=utf-8 124.4970ms
[22:08:11][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 GET http://localhost:44317/swagger/v1/swagger.json - -
[22:08:12][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 GET http://localhost:44317/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 376.0462ms
[22:08:57][INF][Microsoft.Hosting.Lifetime]:Now listening on: http://localhost:44317
[22:08:57][INF][Microsoft.Hosting.Lifetime]:Application started. Press Ctrl+C to shut down.
[22:08:57][INF][Microsoft.Hosting.Lifetime]:Hosting environment: Development
[22:08:57][INF][Microsoft.Hosting.Lifetime]:Content root path: C:\Users\wwwda\source\repos\ElectionSystem\Dach.ElectionSystem.WebApi
[22:08:57][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 GET http://localhost:44317/swagger/index.html - -
[22:08:57][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 GET http://localhost:44317/swagger/index.html - - - 200 - text/html;charset=utf-8 124.4670ms
[22:08:58][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 GET http://localhost:44317/swagger/v1/swagger.json - -
[22:08:59][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 GET http://localhost:44317/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 478.4096ms
[22:09:46][INF][Microsoft.Hosting.Lifetime]:Now listening on: http://localhost:44317
[22:09:46][INF][Microsoft.Hosting.Lifetime]:Application started. Press Ctrl+C to shut down.
[22:09:46][INF][Microsoft.Hosting.Lifetime]:Hosting environment: Development
[22:09:46][INF][Microsoft.Hosting.Lifetime]:Content root path: C:\Users\wwwda\source\repos\ElectionSystem\Dach.ElectionSystem.WebApi
[22:09:46][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 GET http://localhost:44317/swagger/index.html - -
[22:09:46][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 GET http://localhost:44317/swagger/index.html - - - 200 - text/html;charset=utf-8 122.0162ms
[22:09:47][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 GET http://localhost:44317/swagger/v1/swagger.json - -
[22:09:47][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 GET http://localhost:44317/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 380.9143ms
[22:10:33][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST http://localhost:44317/api/votes/events/2/users application/json 48
[22:10:33][WRN][Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware]:Failed to determine the https port for redirect.
[22:10:33][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Controllers.VoteController.CreateVoteEmail (Dach.ElectionSystem.WebApi)'
[22:10:33][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "CreateVoteEmail", controller = "Vote"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVoteEmail(Dach.ElectionSystem.Models.Request.Vote.VoteCreateEmailRequest, Int32) on controller Dach.ElectionSystem.WebApi.Controllers.VoteController (Dach.ElectionSystem.WebApi).
[22:10:34][INF][Microsoft.EntityFrameworkCore.Infrastructure]:Entity Framework Core 5.0.4 initialized 'WebApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[22:10:34][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (36ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32), @__request_TokenModel_Username_1='?' (Size = 4000), @__request_TokenModel_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK], [e].[EVT_CAN_ID], [e].[EVT_CAN_USU_ID], [e].[EVT_CAN_NUMERO_EVENTO], [a].[ADMINEVENT_ID], [a].[ADMINEVENT_FECHA], [a].[ADMINEVENT_EVENT_ID], [a].[ADMINEVENT_USER_ID], [a].[ADMINEVENT_PRVILEGIOS], [a].[ADMINEVENT_ESTADO]
FROM [USUARIOS] AS [u]
LEFT JOIN [EVENTOS_CANTIDAD] AS [e] ON [u].[USU_ID] = [e].[EVT_CAN_USU_ID]
LEFT JOIN [ADMINISTRADOR_EVENTO] AS [a] ON [u].[USU_ID] = [a].[ADMINEVENT_USER_ID]
WHERE (([u].[USU_ID] = @__ToInt32_0) AND ([u].[USU_NICK] = @__request_TokenModel_Username_1)) AND ([u].[USU_CORREO] = @__request_TokenModel_Email_2)
ORDER BY [u].[USU_ID], [e].[EVT_CAN_ID], [a].[ADMINEVENT_ID]
[22:10:40][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (34ms) [Parameters=[@__request_IdEvent_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VTO_ID], [v].[VTO_FECHA_INSCRIPCION], [v].[VTO_FECHA_VOTACION], [v].[VTO_REGISTRO], [v].[VTO_CAN_ID], [v].[VTO_EVT_ID], [v].[VTO_USU_ID], [v].[VTO_ESTADO]
FROM [VOTOS] AS [v]
WHERE [v].[VTO_EVT_ID] = @__request_IdEvent_0
[22:10:46][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Executed action Dach.ElectionSystem.WebApi.Controllers.VoteController.CreateVoteEmail (Dach.ElectionSystem.WebApi) in 12750.0044ms
[22:10:46][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executed endpoint 'Dach.ElectionSystem.WebApi.Controllers.VoteController.CreateVoteEmail (Dach.ElectionSystem.WebApi)'
[22:10:46][ERR][Dach.ElectionSystem.Utils.MiddlewareHandler.ExceptionHandlingMiddleware]:Error Detectado: 
System.InvalidOperationException: The LINQ expression 'DbSet<User>()
    .Where(u => __request_EmailUser_0
        .Any(e => (int)Convert.ToInt16(e) == u.Id))' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.<VisitMethodCall>g__CheckTranslated|15_0(ShapedQueryExpression translated, <>c__DisplayClass15_0& )
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Dach.ElectionSystem.Repository.Implementation.GenericRepository`1.GetAsync(Expression`1 whereCondition, Func`2 orderBy, String includeProperties) in C:\Users\wwwda\source\repos\ElectionSystem\Dach.ElectionSystem.Repository\Implementation\GenericRepository.cs:line 48
   at Dach.ElectionSystem.BusinessLogic.Vote.VoteCreateEmailHandler.Handle(VoteCreateEmailRequest request, CancellationToken cancellationToken) in C:\Users\wwwda\source\repos\ElectionSystem\Dach.ElectionSystem.BusinessLogic\Vote\VoteCreateEmailHandler.cs:line 45
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Dach.ElectionSystem.WebApi.Controllers.VoteController.CreateVoteEmail(VoteCreateEmailRequest request, Int32 idEvent) in C:\Users\wwwda\source\repos\ElectionSystem\Dach.ElectionSystem.WebApi\Controllers\VoteController.cs:line 64
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Dach.ElectionSystem.Utils.Segurity.JWT.JwtAuthenticationMiddlware.Invoke(HttpContext context, ITokenService tokenService) in C:\Users\wwwda\source\repos\ElectionSystem\Dach.ElectionSystem.Utils\MiddlewareHandler\JwtAuthenticationMiddlware.cs:line 27
   at Dach.ElectionSystem.Utils.MiddlewareHandler.ExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext) in C:\Users\wwwda\source\repos\ElectionSystem\Dach.ElectionSystem.Utils\MiddlewareHandler\ExceptionHandlingMiddleware.cs:line 42
[22:10:46][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 POST http://localhost:44317/api/votes/events/2/users application/json 48 - 500 - application/json 13439.7986ms
[22:27:11][INF][Microsoft.Hosting.Lifetime]:Now listening on: http://localhost:44317
[22:27:11][INF][Microsoft.Hosting.Lifetime]:Application started. Press Ctrl+C to shut down.
[22:27:11][INF][Microsoft.Hosting.Lifetime]:Hosting environment: Development
[22:27:11][INF][Microsoft.Hosting.Lifetime]:Content root path: C:\Users\wwwda\source\repos\ElectionSystem\Dach.ElectionSystem.WebApi
[22:27:11][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 GET http://localhost:44317/swagger/index.html - -
[22:27:11][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 GET http://localhost:44317/swagger/index.html - - - 200 - text/html;charset=utf-8 122.7447ms
[22:27:12][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 GET http://localhost:44317/swagger/v1/swagger.json - -
[22:27:12][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 GET http://localhost:44317/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 385.3154ms
[22:27:17][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST http://localhost:44317/api/votes/events/2/users application/json 48
[22:27:17][WRN][Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware]:Failed to determine the https port for redirect.
[22:27:17][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Controllers.VoteController.CreateVoteEmail (Dach.ElectionSystem.WebApi)'
[22:27:17][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "CreateVoteEmail", controller = "Vote"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVoteEmail(Dach.ElectionSystem.Models.Request.Vote.VoteCreateEmailRequest, Int32) on controller Dach.ElectionSystem.WebApi.Controllers.VoteController (Dach.ElectionSystem.WebApi).
[22:27:18][INF][Microsoft.EntityFrameworkCore.Infrastructure]:Entity Framework Core 5.0.4 initialized 'WebApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[22:27:18][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (38ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32), @__request_TokenModel_Username_1='?' (Size = 4000), @__request_TokenModel_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK], [e].[EVT_CAN_ID], [e].[EVT_CAN_USU_ID], [e].[EVT_CAN_NUMERO_EVENTO], [a].[ADMINEVENT_ID], [a].[ADMINEVENT_FECHA], [a].[ADMINEVENT_EVENT_ID], [a].[ADMINEVENT_USER_ID], [a].[ADMINEVENT_PRVILEGIOS], [a].[ADMINEVENT_ESTADO]
FROM [USUARIOS] AS [u]
LEFT JOIN [EVENTOS_CANTIDAD] AS [e] ON [u].[USU_ID] = [e].[EVT_CAN_USU_ID]
LEFT JOIN [ADMINISTRADOR_EVENTO] AS [a] ON [u].[USU_ID] = [a].[ADMINEVENT_USER_ID]
WHERE (([u].[USU_ID] = @__ToInt32_0) AND ([u].[USU_NICK] = @__request_TokenModel_Username_1)) AND ([u].[USU_CORREO] = @__request_TokenModel_Email_2)
ORDER BY [u].[USU_ID], [e].[EVT_CAN_ID], [a].[ADMINEVENT_ID]
[22:27:22][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (5ms) [Parameters=[@__request_IdEvent_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VTO_ID], [v].[VTO_FECHA_INSCRIPCION], [v].[VTO_FECHA_VOTACION], [v].[VTO_REGISTRO], [v].[VTO_CAN_ID], [v].[VTO_EVT_ID], [v].[VTO_USU_ID], [v].[VTO_ESTADO]
FROM [VOTOS] AS [v]
WHERE [v].[VTO_EVT_ID] = @__request_IdEvent_0
[22:27:23][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK]
FROM [USUARIOS] AS [u]
WHERE [u].[USU_ID] IN (1, 2, 3, 4)
[22:28:23][INF][Microsoft.Hosting.Lifetime]:Now listening on: http://localhost:44317
[22:28:23][INF][Microsoft.Hosting.Lifetime]:Application started. Press Ctrl+C to shut down.
[22:28:23][INF][Microsoft.Hosting.Lifetime]:Hosting environment: Development
[22:28:23][INF][Microsoft.Hosting.Lifetime]:Content root path: C:\Users\wwwda\source\repos\ElectionSystem\Dach.ElectionSystem.WebApi
[22:28:23][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 GET http://localhost:44317/swagger/index.html - -
[22:28:23][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 GET http://localhost:44317/swagger/index.html - - - 200 - text/html;charset=utf-8 137.4167ms
[22:28:24][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 GET http://localhost:44317/swagger/v1/swagger.json - -
[22:28:24][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 GET http://localhost:44317/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 431.9483ms
[22:28:34][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST http://localhost:44317/api/votes/events/2/users application/json 48
[22:28:34][WRN][Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware]:Failed to determine the https port for redirect.
[22:28:34][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Controllers.VoteController.CreateVoteEmail (Dach.ElectionSystem.WebApi)'
[22:28:34][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "CreateVoteEmail", controller = "Vote"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVoteEmail(Dach.ElectionSystem.Models.Request.Vote.VoteCreateEmailRequest, Int32) on controller Dach.ElectionSystem.WebApi.Controllers.VoteController (Dach.ElectionSystem.WebApi).
[22:28:35][INF][Microsoft.EntityFrameworkCore.Infrastructure]:Entity Framework Core 5.0.4 initialized 'WebApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[22:28:35][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (40ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32), @__request_TokenModel_Username_1='?' (Size = 4000), @__request_TokenModel_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK], [e].[EVT_CAN_ID], [e].[EVT_CAN_USU_ID], [e].[EVT_CAN_NUMERO_EVENTO], [a].[ADMINEVENT_ID], [a].[ADMINEVENT_FECHA], [a].[ADMINEVENT_EVENT_ID], [a].[ADMINEVENT_USER_ID], [a].[ADMINEVENT_PRVILEGIOS], [a].[ADMINEVENT_ESTADO]
FROM [USUARIOS] AS [u]
LEFT JOIN [EVENTOS_CANTIDAD] AS [e] ON [u].[USU_ID] = [e].[EVT_CAN_USU_ID]
LEFT JOIN [ADMINISTRADOR_EVENTO] AS [a] ON [u].[USU_ID] = [a].[ADMINEVENT_USER_ID]
WHERE (([u].[USU_ID] = @__ToInt32_0) AND ([u].[USU_NICK] = @__request_TokenModel_Username_1)) AND ([u].[USU_CORREO] = @__request_TokenModel_Email_2)
ORDER BY [u].[USU_ID], [e].[EVT_CAN_ID], [a].[ADMINEVENT_ID]
[22:28:38][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (4ms) [Parameters=[@__request_IdEvent_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VTO_ID], [v].[VTO_FECHA_INSCRIPCION], [v].[VTO_FECHA_VOTACION], [v].[VTO_REGISTRO], [v].[VTO_CAN_ID], [v].[VTO_EVT_ID], [v].[VTO_USU_ID], [v].[VTO_ESTADO]
FROM [VOTOS] AS [v]
WHERE [v].[VTO_EVT_ID] = @__request_IdEvent_0
[22:28:40][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK]
FROM [USUARIOS] AS [u]
WHERE [u].[USU_ID] IN (1, 2, 3, 4)
[22:57:14][INF][Microsoft.Hosting.Lifetime]:Now listening on: http://localhost:44317
[22:57:14][INF][Microsoft.Hosting.Lifetime]:Application started. Press Ctrl+C to shut down.
[22:57:14][INF][Microsoft.Hosting.Lifetime]:Hosting environment: Development
[22:57:14][INF][Microsoft.Hosting.Lifetime]:Content root path: C:\Users\wwwda\source\repos\ElectionSystem\Dach.ElectionSystem.WebApi
[22:57:15][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 GET http://localhost:44317/swagger/index.html - -
[22:57:15][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 GET http://localhost:44317/swagger/index.html - - - 200 - text/html;charset=utf-8 174.4451ms
[22:57:16][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 GET http://localhost:44317/swagger/v1/swagger.json - -
[22:57:16][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 GET http://localhost:44317/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 487.5322ms
[22:57:31][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST http://localhost:44317/api/auth/login application/json 70
[22:57:31][WRN][Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware]:Failed to determine the https port for redirect.
[22:57:31][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Properties.AuthController.Auth (Dach.ElectionSystem.WebApi)'
[22:57:31][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "Auth", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Auth(Dach.ElectionSystem.Models.Auth.LoginRequest) on controller Dach.ElectionSystem.WebApi.Properties.AuthController (Dach.ElectionSystem.WebApi).
[22:57:32][INF][Microsoft.EntityFrameworkCore.Infrastructure]:Entity Framework Core 5.0.4 initialized 'WebApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[22:57:33][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (45ms) [Parameters=[@__request_Email_0='?' (Size = 4000), @__passwordHash_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK]
FROM [USUARIOS] AS [u]
WHERE ([u].[USU_CORREO] = @__request_Email_0) AND (([u].[USU_PASSWORD] = @__passwordHash_1) OR ([u].[USU_TEM_PASSWORD] = @__passwordHash_1))
[22:57:33][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor]:Executing OkObjectResult, writing value of type 'Dach.ElectionSystem.Models.ResponseBase.GenericResponse`1[[Dach.ElectionSystem.Models.Response.Auth.LoginResponse, Dach.ElectionSystem.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[22:57:33][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Executed action Dach.ElectionSystem.WebApi.Properties.AuthController.Auth (Dach.ElectionSystem.WebApi) in 1759.0966ms
[22:57:33][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executed endpoint 'Dach.ElectionSystem.WebApi.Properties.AuthController.Auth (Dach.ElectionSystem.WebApi)'
[22:57:33][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 POST http://localhost:44317/api/auth/login application/json 70 - 200 - application/json;+charset=utf-8 1861.4452ms
[22:57:58][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST http://localhost:44317/api/votes/events/2/users application/json 48
[22:57:58][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Controllers.VoteController.CreateVoteEmail (Dach.ElectionSystem.WebApi)'
[22:57:58][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "CreateVoteEmail", controller = "Vote"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVoteEmail(Dach.ElectionSystem.Models.Request.Vote.VoteCreateEmailRequest, Int32) on controller Dach.ElectionSystem.WebApi.Controllers.VoteController (Dach.ElectionSystem.WebApi).
[22:57:58][INF][Microsoft.EntityFrameworkCore.Infrastructure]:Entity Framework Core 5.0.4 initialized 'WebApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[22:57:58][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (7ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32), @__request_TokenModel_Username_1='?' (Size = 4000), @__request_TokenModel_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK], [e].[EVT_CAN_ID], [e].[EVT_CAN_USU_ID], [e].[EVT_CAN_NUMERO_EVENTO], [a].[ADMINEVENT_ID], [a].[ADMINEVENT_FECHA], [a].[ADMINEVENT_EVENT_ID], [a].[ADMINEVENT_USER_ID], [a].[ADMINEVENT_PRVILEGIOS], [a].[ADMINEVENT_ESTADO]
FROM [USUARIOS] AS [u]
LEFT JOIN [EVENTOS_CANTIDAD] AS [e] ON [u].[USU_ID] = [e].[EVT_CAN_USU_ID]
LEFT JOIN [ADMINISTRADOR_EVENTO] AS [a] ON [u].[USU_ID] = [a].[ADMINEVENT_USER_ID]
WHERE (([u].[USU_ID] = @__ToInt32_0) AND ([u].[USU_NICK] = @__request_TokenModel_Username_1)) AND ([u].[USU_CORREO] = @__request_TokenModel_Email_2)
ORDER BY [u].[USU_ID], [e].[EVT_CAN_ID], [a].[ADMINEVENT_ID]
[22:58:02][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (34ms) [Parameters=[@__request_IdEvent_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VTO_ID], [v].[VTO_FECHA_INSCRIPCION], [v].[VTO_FECHA_VOTACION], [v].[VTO_REGISTRO], [v].[VTO_CAN_ID], [v].[VTO_EVT_ID], [v].[VTO_USU_ID], [v].[VTO_ESTADO]
FROM [VOTOS] AS [v]
WHERE [v].[VTO_EVT_ID] = @__request_IdEvent_0
[22:58:03][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK]
FROM [USUARIOS] AS [u]
WHERE [u].[USU_CORREO] IN (N'1', N'2', N'3', N'4')
[22:58:22][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor]:Executing OkObjectResult, writing value of type 'Dach.ElectionSystem.Models.ResponseBase.GenericResponse`1[[Dach.ElectionSystem.Models.Response.Vote.VoteCreateEmailResponse, Dach.ElectionSystem.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[22:58:22][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Executed action Dach.ElectionSystem.WebApi.Controllers.VoteController.CreateVoteEmail (Dach.ElectionSystem.WebApi) in 23930.4097ms
[22:58:22][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executed endpoint 'Dach.ElectionSystem.WebApi.Controllers.VoteController.CreateVoteEmail (Dach.ElectionSystem.WebApi)'
[22:58:22][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 POST http://localhost:44317/api/votes/events/2/users application/json 48 - 200 - application/json;+charset=utf-8 23987.3852ms
[22:59:20][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST http://localhost:44317/api/votes/events/2/users application/json 190
[22:59:20][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Controllers.VoteController.CreateVoteEmail (Dach.ElectionSystem.WebApi)'
[22:59:20][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "CreateVoteEmail", controller = "Vote"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVoteEmail(Dach.ElectionSystem.Models.Request.Vote.VoteCreateEmailRequest, Int32) on controller Dach.ElectionSystem.WebApi.Controllers.VoteController (Dach.ElectionSystem.WebApi).
[22:59:20][INF][Microsoft.EntityFrameworkCore.Infrastructure]:Entity Framework Core 5.0.4 initialized 'WebApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[22:59:20][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (2ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32), @__request_TokenModel_Username_1='?' (Size = 4000), @__request_TokenModel_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK], [e].[EVT_CAN_ID], [e].[EVT_CAN_USU_ID], [e].[EVT_CAN_NUMERO_EVENTO], [a].[ADMINEVENT_ID], [a].[ADMINEVENT_FECHA], [a].[ADMINEVENT_EVENT_ID], [a].[ADMINEVENT_USER_ID], [a].[ADMINEVENT_PRVILEGIOS], [a].[ADMINEVENT_ESTADO]
FROM [USUARIOS] AS [u]
LEFT JOIN [EVENTOS_CANTIDAD] AS [e] ON [u].[USU_ID] = [e].[EVT_CAN_USU_ID]
LEFT JOIN [ADMINISTRADOR_EVENTO] AS [a] ON [u].[USU_ID] = [a].[ADMINEVENT_USER_ID]
WHERE (([u].[USU_ID] = @__ToInt32_0) AND ([u].[USU_NICK] = @__request_TokenModel_Username_1)) AND ([u].[USU_CORREO] = @__request_TokenModel_Email_2)
ORDER BY [u].[USU_ID], [e].[EVT_CAN_ID], [a].[ADMINEVENT_ID]
[22:59:22][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (1ms) [Parameters=[@__request_IdEvent_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VTO_ID], [v].[VTO_FECHA_INSCRIPCION], [v].[VTO_FECHA_VOTACION], [v].[VTO_REGISTRO], [v].[VTO_CAN_ID], [v].[VTO_EVT_ID], [v].[VTO_USU_ID], [v].[VTO_ESTADO]
FROM [VOTOS] AS [v]
WHERE [v].[VTO_EVT_ID] = @__request_IdEvent_0
[22:59:23][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK]
FROM [USUARIOS] AS [u]
WHERE [u].[USU_CORREO] IN (N'pruebas2@gmail.com', N'pruebas1@gmail.com', N'pruebas3@gmail.com', N'pruebas4@gmail.com', N'pruebas2@gmail.com1', N'pruebas2@gmail.com2')
[23:06:48][INF][Microsoft.Hosting.Lifetime]:Now listening on: http://localhost:44317
[23:06:48][INF][Microsoft.Hosting.Lifetime]:Application started. Press Ctrl+C to shut down.
[23:06:48][INF][Microsoft.Hosting.Lifetime]:Hosting environment: Development
[23:06:48][INF][Microsoft.Hosting.Lifetime]:Content root path: C:\Users\wwwda\source\repos\ElectionSystem\Dach.ElectionSystem.WebApi
[23:06:49][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 GET http://localhost:44317/swagger/index.html - -
[23:06:49][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 GET http://localhost:44317/swagger/index.html - - - 200 - text/html;charset=utf-8 138.2601ms
[23:06:50][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 GET http://localhost:44317/swagger/v1/swagger.json - -
[23:06:50][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 GET http://localhost:44317/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 441.6631ms
[23:06:54][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST http://localhost:44317/api/votes/events/2/users application/json 190
[23:06:54][WRN][Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware]:Failed to determine the https port for redirect.
[23:06:54][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Controllers.VoteController.CreateVoteEmail (Dach.ElectionSystem.WebApi)'
[23:06:54][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "CreateVoteEmail", controller = "Vote"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVoteEmail(Dach.ElectionSystem.Models.Request.Vote.VoteCreateEmailRequest, Int32) on controller Dach.ElectionSystem.WebApi.Controllers.VoteController (Dach.ElectionSystem.WebApi).
[23:06:55][INF][Microsoft.EntityFrameworkCore.Infrastructure]:Entity Framework Core 5.0.4 initialized 'WebApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[23:06:56][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (44ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32), @__request_TokenModel_Username_1='?' (Size = 4000), @__request_TokenModel_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK], [e].[EVT_CAN_ID], [e].[EVT_CAN_USU_ID], [e].[EVT_CAN_NUMERO_EVENTO], [a].[ADMINEVENT_ID], [a].[ADMINEVENT_FECHA], [a].[ADMINEVENT_EVENT_ID], [a].[ADMINEVENT_USER_ID], [a].[ADMINEVENT_PRVILEGIOS], [a].[ADMINEVENT_ESTADO]
FROM [USUARIOS] AS [u]
LEFT JOIN [EVENTOS_CANTIDAD] AS [e] ON [u].[USU_ID] = [e].[EVT_CAN_USU_ID]
LEFT JOIN [ADMINISTRADOR_EVENTO] AS [a] ON [u].[USU_ID] = [a].[ADMINEVENT_USER_ID]
WHERE (([u].[USU_ID] = @__ToInt32_0) AND ([u].[USU_NICK] = @__request_TokenModel_Username_1)) AND ([u].[USU_CORREO] = @__request_TokenModel_Email_2)
ORDER BY [u].[USU_ID], [e].[EVT_CAN_ID], [a].[ADMINEVENT_ID]
[23:06:58][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (4ms) [Parameters=[@__request_IdEvent_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VTO_ID], [v].[VTO_FECHA_INSCRIPCION], [v].[VTO_FECHA_VOTACION], [v].[VTO_REGISTRO], [v].[VTO_CAN_ID], [v].[VTO_EVT_ID], [v].[VTO_USU_ID], [v].[VTO_ESTADO]
FROM [VOTOS] AS [v]
WHERE [v].[VTO_EVT_ID] = @__request_IdEvent_0
[23:06:59][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK]
FROM [USUARIOS] AS [u]
WHERE [u].[USU_CORREO] IN (N'pruebas2@gmail.com', N'pruebas1@gmail.com', N'pruebas3@gmail.com', N'pruebas4@gmail.com', N'pruebas2@gmail.com1', N'pruebas2@gmail.com2')
[23:07:36][INF][Microsoft.Hosting.Lifetime]:Now listening on: http://localhost:44317
[23:07:36][INF][Microsoft.Hosting.Lifetime]:Application started. Press Ctrl+C to shut down.
[23:07:36][INF][Microsoft.Hosting.Lifetime]:Hosting environment: Development
[23:07:36][INF][Microsoft.Hosting.Lifetime]:Content root path: C:\Users\wwwda\source\repos\ElectionSystem\Dach.ElectionSystem.WebApi
[23:07:37][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 GET http://localhost:44317/swagger/index.html - -
[23:07:37][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 GET http://localhost:44317/swagger/index.html - - - 200 - text/html;charset=utf-8 173.4066ms
[23:07:38][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 GET http://localhost:44317/swagger/v1/swagger.json - -
[23:07:38][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request finished HTTP/1.1 GET http://localhost:44317/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 538.7298ms
[23:07:45][INF][Microsoft.AspNetCore.Hosting.Diagnostics]:Request starting HTTP/1.1 POST http://localhost:44317/api/votes/events/2/users application/json 190
[23:07:45][WRN][Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware]:Failed to determine the https port for redirect.
[23:07:45][INF][Microsoft.AspNetCore.Routing.EndpointMiddleware]:Executing endpoint 'Dach.ElectionSystem.WebApi.Controllers.VoteController.CreateVoteEmail (Dach.ElectionSystem.WebApi)'
[23:07:46][INF][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker]:Route matched with {action = "CreateVoteEmail", controller = "Vote"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVoteEmail(Dach.ElectionSystem.Models.Request.Vote.VoteCreateEmailRequest, Int32) on controller Dach.ElectionSystem.WebApi.Controllers.VoteController (Dach.ElectionSystem.WebApi).
[23:07:46][INF][Microsoft.EntityFrameworkCore.Infrastructure]:Entity Framework Core 5.0.4 initialized 'WebApiDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
[23:07:47][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (47ms) [Parameters=[@__ToInt32_0='?' (DbType = Int32), @__request_TokenModel_Username_1='?' (Size = 4000), @__request_TokenModel_Email_2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK], [e].[EVT_CAN_ID], [e].[EVT_CAN_USU_ID], [e].[EVT_CAN_NUMERO_EVENTO], [a].[ADMINEVENT_ID], [a].[ADMINEVENT_FECHA], [a].[ADMINEVENT_EVENT_ID], [a].[ADMINEVENT_USER_ID], [a].[ADMINEVENT_PRVILEGIOS], [a].[ADMINEVENT_ESTADO]
FROM [USUARIOS] AS [u]
LEFT JOIN [EVENTOS_CANTIDAD] AS [e] ON [u].[USU_ID] = [e].[EVT_CAN_USU_ID]
LEFT JOIN [ADMINISTRADOR_EVENTO] AS [a] ON [u].[USU_ID] = [a].[ADMINEVENT_USER_ID]
WHERE (([u].[USU_ID] = @__ToInt32_0) AND ([u].[USU_NICK] = @__request_TokenModel_Username_1)) AND ([u].[USU_CORREO] = @__request_TokenModel_Email_2)
ORDER BY [u].[USU_ID], [e].[EVT_CAN_ID], [a].[ADMINEVENT_ID]
[23:07:49][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (37ms) [Parameters=[@__request_IdEvent_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VTO_ID], [v].[VTO_FECHA_INSCRIPCION], [v].[VTO_FECHA_VOTACION], [v].[VTO_REGISTRO], [v].[VTO_CAN_ID], [v].[VTO_EVT_ID], [v].[VTO_USU_ID], [v].[VTO_ESTADO]
FROM [VOTOS] AS [v]
WHERE [v].[VTO_EVT_ID] = @__request_IdEvent_0
[23:07:51][INF][Microsoft.EntityFrameworkCore.Database.Command]:Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[USU_ID], [u].[USU_FECHA_NACIMIENTO], [u].[USU_CEDULA], [u].[USU_CORREO], [u].[USU_APELLIDO], [u].[USU_NOMBRE], [u].[USU_ESTADO], [u].[USU_ADMINISTRADOR], [u].[USU_PASSWORD], [u].[USU_SEGUNDO_APELLIDO], [u].[USU_SEGUNDO_NOMBRE], [u].[USU_TEM_PASSWORD], [u].[USU_NICK]
FROM [USUARIOS] AS [u]
WHERE [u].[USU_CORREO] IN (N'pruebas2@gmail.com', N'pruebas1@gmail.com', N'pruebas3@gmail.com', N'pruebas4@gmail.com', N'pruebas2@gmail.com1', N'pruebas2@gmail.com2')
